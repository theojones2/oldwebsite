<?xml version="1.0" encoding="UTF-8"?><rss version="2.0"
	xmlns:content="http://purl.org/rss/1.0/modules/content/"
	xmlns:wfw="http://wellformedweb.org/CommentAPI/"
	xmlns:dc="http://purl.org/dc/elements/1.1/"
	xmlns:atom="http://www.w3.org/2005/Atom"
	xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
	xmlns:slash="http://purl.org/rss/1.0/modules/slash/"
	>

<channel>
	<title>tech &#8211; Theo Jones</title>
	<atom:link href="https://microblog.theojones.name/category/tech/feed/" rel="self" type="application/rss+xml" />
	<link>https://microblog.theojones.name</link>
	<description>Micro Blog</description>
	<lastBuildDate>Mon, 08 Aug 2016 22:20:43 +0000</lastBuildDate>
	<language>en-US</language>
	<sy:updatePeriod>hourly</sy:updatePeriod>
	<sy:updateFrequency>1</sy:updateFrequency>
	<generator>https://wordpress.org/?v=4.6.1</generator>
	<item>
		<title>https theopjones tumblr com post 147770325592 alternatives to&#8230;</title>
		<link>https://microblog.theojones.name/2016/07/23/https-theopjones-tumblr-com-post-147770325592-alternatives-to/</link>
		<comments>https://microblog.theojones.name/2016/07/23/https-theopjones-tumblr-com-post-147770325592-alternatives-to/#respond</comments>
		<pubDate>Sat, 23 Jul 2016 22:54:04 +0000</pubDate>
		<dc:creator><![CDATA[theojones]]></dc:creator>
				<category><![CDATA[importfromtumblr]]></category>
		<category><![CDATA[meta]]></category>
		<category><![CDATA[tech]]></category>

		<guid isPermaLink="false">https://theojones.name/?p=1138</guid>
		<description><![CDATA[https://theopjones.tumblr.com/post/147770325592/alternatives-to-tumblr-if-yahoo-goes-any-further http://archive.is/dj3kI]]></description>
				<content:encoded><![CDATA[<div class="tumblr-post" data-href="https://embed.tumblr.com/embed/post/irGAYnZR9_CWief4BxurEg/147770325592" data-did="3020c4d993a850596ed10b29037d8f73f316b740"  ><a href="https://theopjones.tumblr.com/post/147770325592/alternatives-to-tumblr-if-yahoo-goes-any-further">https://theopjones.tumblr.com/post/147770325592/alternatives-to-tumblr-if-yahoo-goes-any-further</a></div>
<p><script async src="https://secure.assets.tumblr.com/post.js"></script></p>
<p>http://archive.is/dj3kI</p>
]]></content:encoded>
			<wfw:commentRss>https://microblog.theojones.name/2016/07/23/https-theopjones-tumblr-com-post-147770325592-alternatives-to/feed/</wfw:commentRss>
		<slash:comments>0</slash:comments>
		</item>
		<item>
		<title>tex</title>
		<link>https://microblog.theojones.name/2016/06/30/tex/</link>
		<comments>https://microblog.theojones.name/2016/06/30/tex/#respond</comments>
		<pubDate>Thu, 30 Jun 2016 05:41:49 +0000</pubDate>
		<dc:creator><![CDATA[theojones]]></dc:creator>
				<category><![CDATA[importfromtumblr]]></category>
		<category><![CDATA[tech]]></category>

		<guid isPermaLink="false">https://theojones.name/?p=1042</guid>
		<description><![CDATA[http://archive.is/FNUEK http://eolianthane.tumblr.com/post/145366720085/rangi42-ilzolende-xhxhxhx-lockrum-til]]></description>
				<content:encoded><![CDATA[<p>http://archive.is/FNUEK</p>
<div class="tumblr-post" data-href="https://embed.tumblr.com/embed/post/W7UbDnzoVBNr9tCvy6VgAQ/145366720085" data-did="9c3fcf9c3fd0187f904f1f122aaecb9e6e127010"  ><a href="http://eolianthane.tumblr.com/post/145366720085/rangi42-ilzolende-xhxhxhx-lockrum-til">http://eolianthane.tumblr.com/post/145366720085/rangi42-ilzolende-xhxhxhx-lockrum-til</a></div>
<p><script async src="https://secure.assets.tumblr.com/post.js"></script></p>
]]></content:encoded>
			<wfw:commentRss>https://microblog.theojones.name/2016/06/30/tex/feed/</wfw:commentRss>
		<slash:comments>0</slash:comments>
		</item>
		<item>
		<title>When behind NGINX and using ssl wordpress can&#8230;</title>
		<link>https://microblog.theojones.name/2016/06/22/881/</link>
		<comments>https://microblog.theojones.name/2016/06/22/881/#respond</comments>
		<pubDate>Wed, 22 Jun 2016 22:06:06 +0000</pubDate>
		<dc:creator><![CDATA[theojones]]></dc:creator>
				<category><![CDATA[tech]]></category>

		<guid isPermaLink="false">https://theojones.name/?p=881</guid>
		<description><![CDATA[When behind NGINX and using ssl wordpress can have issues with providing the ssl url for static content. This type of issue can be resolved by adding the following to the wp-config.php file define('FORCE_SSL_ADMIN', true); // in some setups HTTP_X_FORWARDED_PROTO might contain // a comma-separated list e.g. http,https // so check for https existence if &#8230; <a href="https://microblog.theojones.name/2016/06/22/881/" class="more-link">Continue reading<span class="screen-reader-text"> "When behind NGINX and using ssl wordpress can&#8230;"</span></a>]]></description>
				<content:encoded><![CDATA[<p>When behind NGINX and using ssl wordpress can have issues with providing the ssl url for static content. This type of issue can be resolved by adding the following to the wp-config.php file </p>
<p><code>define('FORCE_SSL_ADMIN', true);<br />
// in some setups HTTP_X_FORWARDED_PROTO might contain<br />
// a comma-separated list e.g. http,https<br />
// so check for https existence<br />
if (strpos($_SERVER['HTTP_X_FORWARDED_PROTO'], 'https') !== false)<br />
       $_SERVER['HTTPS']='on';<br />
</code></p>
]]></content:encoded>
			<wfw:commentRss>https://microblog.theojones.name/2016/06/22/881/feed/</wfw:commentRss>
		<slash:comments>0</slash:comments>
		</item>
		<item>
		<title>Note on Freebsd config The Freebsd mysql port&#8230;</title>
		<link>https://microblog.theojones.name/2016/06/21/879/</link>
		<comments>https://microblog.theojones.name/2016/06/21/879/#respond</comments>
		<pubDate>Tue, 21 Jun 2016 05:57:46 +0000</pubDate>
		<dc:creator><![CDATA[theojones]]></dc:creator>
				<category><![CDATA[tech]]></category>

		<guid isPermaLink="false">https://theojones.name/?p=879</guid>
		<description><![CDATA[Note on Freebsd config. The Freebsd mysql port does not create a my.cfg config file for mysql and the defaults that mysql uses without a config are pretty sub-optimal. So, you need to copy over one of the sample config files. This link shows how to do so. http://www.surlyjake.com/blog/2008/09/26/freebsd-mysql-configuration/ http://www.webcitation.org/6iQLxu8S8]]></description>
				<content:encoded><![CDATA[<p>Note on Freebsd config. The Freebsd mysql port does not create a my.cfg config file for mysql and the defaults that mysql uses without a config are pretty sub-optimal. So, you need to copy over one of the sample config files. This link shows how to do so. </p>
<p>http://www.surlyjake.com/blog/2008/09/26/freebsd-mysql-configuration/<br />
http://www.webcitation.org/6iQLxu8S8</p>
]]></content:encoded>
			<wfw:commentRss>https://microblog.theojones.name/2016/06/21/879/feed/</wfw:commentRss>
		<slash:comments>0</slash:comments>
		</item>
		<item>
		<title>Some notes from the server reconfig</title>
		<link>https://microblog.theojones.name/2016/05/27/816/</link>
		<comments>https://microblog.theojones.name/2016/05/27/816/#respond</comments>
		<pubDate>Fri, 27 May 2016 01:58:57 +0000</pubDate>
		<dc:creator><![CDATA[theojones]]></dc:creator>
				<category><![CDATA[tech]]></category>

		<guid isPermaLink="false">https://theojones.name/?p=816</guid>
		<description><![CDATA[Some notes from the server reconfig. Part for my reference, may be useful for others. I may turn this into an actual tutorial eventually. Install Varnish https://www.varnish-cache.org/releases/install_freebsd.html cd /usr/ports/www/varnish4 make config-recursive make install clean Copy default config cp /usr/local/share/doc/varnish/example.vcl /usr/local/etc/varnish.vcl or set this config https://gist.githubusercontent.com/rachelandrew/6a2693d3cd6fb9268756/raw/65b14e80b324d4e1810dc6162a84b1ffc923311f/default.vcl The varnish config is at /usr/local/etc/varnish4/default.vcl to /etc/rc.conf add varnishd_enable=&#8221;YES&#8221; &#8230; <a href="https://microblog.theojones.name/2016/05/27/816/" class="more-link">Continue reading<span class="screen-reader-text"> "Some notes from the server reconfig"</span></a>]]></description>
				<content:encoded><![CDATA[<p>Some notes from the server reconfig. Part for my reference, may be useful for others. I may turn this into an actual tutorial eventually.<br />
<span id="more-816"></span></p>
<p>Install Varnish<br />
https://www.varnish-cache.org/releases/install_freebsd.html</p>
<p>cd /usr/ports/www/varnish4<br />
make config-recursive<br />
make install clean</p>
<p>Copy default config<br />
cp /usr/local/share/doc/varnish/example.vcl /usr/local/etc/varnish.vcl</p>
<p>or set this config</p>
<p>https://gist.githubusercontent.com/rachelandrew/6a2693d3cd6fb9268756/raw/65b14e80b324d4e1810dc6162a84b1ffc923311f/default.vcl</p>
<p>The varnish config is at /usr/local/etc/varnish4/default.vcl<br />
to /etc/rc.conf add<br />
varnishd_enable=&#8221;YES&#8221;<br />
varnishd_config=&#8221;/usr/local/etc/varnish.vcl&#8221;</p>
<p>See, https://forums.freebsd.org/threads/50632/</p>
<p>Edit /usr/local/etc/varnish.vcl and change this block to</p>
<p>backend default {<br />
.host = &#8220;127.0.0.1&#8221;;<br />
.port = “5299”;<br />
}</p>
<p>go to the sub vcl_backend_response block and add</p>
<p>set beresp.ttl = 10s;<br />
set beresp.grace = 1h;</p>
<p>Install Apache</p>
<p>cd /usr/ports/apache24<br />
make config-recursive<br />
make install clean</p>
<p>In apache config</p>
<p>set<br />
ServerName ns527592.ip-198-27-64.net:4530<br />
Listen 4530</p>
<p>service apache start</p>
<p>Start varnish</p>
<p>/usr/local/etc/rc.d/varnishd start</p>
<p>Nginx for ssl</p>
<p>cd /usr/ports/www/nginx<br />
make config-recursive<br />
make install clean</p>
<p>openssl dhparam -out /usr/local/www/nginx/dhparam.pem 4096</p>
<blockquote data-secret="N2iGd9Eidi" class="wp-embedded-content"><p><a href="https://www.smashingmagazine.com/2015/09/https-everywhere-with-nginx-varnish-apache/">HTTPS Everywhere With Nginx, Varnish And Apache</a></p></blockquote>
<p><iframe class="wp-embedded-content" sandbox="allow-scripts" security="restricted" src="https://www.smashingmagazine.com/2015/09/https-everywhere-with-nginx-varnish-apache/embed/#?secret=N2iGd9Eidi" data-secret="N2iGd9Eidi" width="600" height="338" title="&#8220;HTTPS Everywhere With Nginx, Varnish And Apache&#8221; &#8212; Smashing Magazine" frameborder="0" marginwidth="0" marginheight="0" scrolling="no"></iframe></p>
<p>https://gist.github.com/gokejnr/a4f9cc2a164a7f928048</p>
<p>https://sethvargo.com/getting-an-a-plus-on-qualys-ssl-labs-tester/</p>
<p>https://community.letsencrypt.org/t/howto-a-with-all-100-s-on-ssl-labs-test-using-apache2-4-read-warnings/2436</p>
<p>letsencrypt certonly &#8211;rsa-key-size 4096</p>
<p>&nbsp;</p>
<p class="p1">mkdir /var/log/theojones.name</p>
<p class="p1">chown -R www:www /var/log/theojones.name</p>
<p class="p1">Place the following in apache conf</p>
<p class="p1">&lt;VirtualHost *:80&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>ServerAdmin theo@theojones.name</p>
<p class="p1"><span class="Apple-converted-space">    </span>ServerName theojones.name</p>
<p class="p1"><span class="Apple-converted-space">    </span>ServerAlias www.theojones.name,ns527592.ip-198-27-64.net</p>
<p class="p1"><span class="Apple-converted-space">    </span>DocumentRoot /usr/local/www/apache24/data/theojones.name</p>
<p class="p1"><span class="Apple-converted-space">    </span>ErrorLog /var/log/theojones.name/error.log</p>
<p class="p1"><span class="Apple-converted-space">    </span>CustomLog /var/log/theojones.name/access.log combined</p>
<p class="p1">&lt;/VirtualHost&gt;</p>
<p class="p1">Php</p>
<p class="p3"><a href="https://www.digitalocean.com/community/tutorials/how-to-install-an-apache-mysql-and-php-famp-stack-on-freebsd-10-1">https://www.digitalocean.com/community/tutorials/how-to-install-an-apache-mysql-and-php-famp-stack-on-freebsd-10-1</a></p>
<p class="p1">cd /usr/ports/lang/php56</p>
<p class="p1">make config-recursive</p>
<p class="p1">make install clean</p>
<p class="p1">cd /usr/ports/lang/php56-extensions</p>
<p class="p1">make config-recursive</p>
<p class="p1">make install clean</p>
<p class="p1">make config-recursive</p>
<p class="p1"><span class="Apple-converted-space">     </span>* repeat for extensions</p>
<p class="p1">cd /usr/ports/www/mod_php56</p>
<p class="p1">make config-recursive</p>
<p class="p1">make install clean</p>
<p class="p1">edit /usr/local/etc/apache24/Includes/php.conf</p>
<p class="p1">&lt;IfModule dir_module&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>DirectoryIndex index.php index.html</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;FilesMatch &#8220;.php$&#8221;&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>SetHandler application/x-httpd-php</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/FilesMatch&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;FilesMatch &#8220;.phps$&#8221;&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>SetHandler application/x-httpd-php-source</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/FilesMatch&gt;</p>
<p class="p1">&lt;/IfModule&gt;</p>
<p class="p1">cd /usr/ports/www/nginx</p>
<p class="p1">make config-recursive</p>
<p class="p1">make install clean</p>
<p class="p3"><a href="https://www.smashingmagazine.com/2015/09/https-everywhere-with-nginx-varnish-apache/#comments">https://www.smashingmagazine.com/2015/09/https-everywhere-with-nginx-varnish-apache/#comments</a></p>
<p class="p3"><a href="https://gist.github.com/gokejnr/a4f9cc2a164a7f928048">https://gist.github.com/gokejnr/a4f9cc2a164a7f928048</a></p>
<p class="p3"><a href="https://sethvargo.com/getting-an-a-plus-on-qualys-ssl-labs-tester/">https://sethvargo.com/getting-an-a-plus-on-qualys-ssl-labs-tester/</a></p>
<p class="p3"><a href="https://community.letsencrypt.org/t/howto-a-with-all-100-s-on-ssl-labs-test-using-apache2-4-read-warnings/2436">https://community.letsencrypt.org/t/howto-a-with-all-100-s-on-ssl-labs-test-using-apache2-4-read-warnings/2436</a></p>
<p class="p1">rm /usr/local/etc/nginx/nginx.conf</p>
<p class="p1">edit /usr/local/etc/nginx/nginx.conf</p>
<p class="p1">add</p>
<p class="p1"><i>user<span class="Apple-converted-space">  </span>www www;</i></p>
<p class="p1"><i>worker_processes<span class="Apple-converted-space">  </span>4;</i></p>
<p class="p1"><i># main server error log</i></p>
<p class="p1"><i>error_log /var/log/nginx/error.log ;</i></p>
<p class="p1"><i>pid /var/run/nginx.pid;</i></p>
<p class="p1"><i>events {</i></p>
<p class="p1"><i> worker_connections<span class="Apple-converted-space">  </span>1024;</i></p>
<p class="p1"><i>}</i></p>
<p class="p1"><i>http {</i></p>
<p class="p1"><b><i>default_type</i></b><i><span class="Apple-converted-space">  </span>application/octet-stream;</i></p>
<p class="p1"><i> </i><b><i>keepalive_timeout</i></b><i><span class="Apple-converted-space">  </span>65;</i></p>
<p class="p1"><i>server {</i></p>
<p class="p1"><i><span class="Apple-converted-space">  </span>listen *:443 ssl ;</i></p>
<p class="p1"><i>add_header Strict-Transport-Security max-age=31536000;</i></p>
<p class="p1"><i>ssl_protocols TLSv1.2;</i></p>
<p class="p1"><i>ssl_ciphers AES256+EECDH:AES256+EDH:!aNULL;</i></p>
<p class="p1"><i>ssl_buffer_size 1400;</i></p>
<p class="p1"><i>ssl_session_tickets off;</i></p>
<p class="p1"><i>ssl_prefer_server_ciphers on;</i></p>
<p class="p1"><i>ssl_session_cache shared:SSL:30m;</i></p>
<p class="p1"><i>ssl_session_timeout 30m;</i></p>
<p class="p1"><i>ssl_dhparam /usr/local/www/nginx/dhparam.pem;</i></p>
<p class="p1"><i>ssl_stapling on;</i></p>
<p class="p1"><i>resolver 8.8.4.4 8.8.8.8 valid=300s;</i></p>
<p class="p1"><i>ssl_stapling_verify on;</i></p>
<p class="p1"><i>resolver_timeout 10s;</i></p>
<p class="p1"><i>add_header X-Frame-Options DENY;</i></p>
<p class="p1"><i>add_header X-Content-Type-Options nosniff;</i></p>
<p class="p1"><i><span class="Apple-converted-space">  </span>server_name theojones.name www.theojones.name archive.theojones.name mail.theojones.name;</i></p>
<p class="p1"><i><span class="Apple-converted-space">  </span>ssl on;</i></p>
<p class="p1"><i><span class="Apple-converted-space">  </span>ssl_certificate /usr/local/etc/letsencrypt/live/theojones.name/fullchain.pem;</i></p>
<p class="p1"><i><span class="Apple-converted-space">  </span>ssl_certificate_key /usr/local/etc/letsencrypt/live/theojones.name/privkey.pem;</i></p>
<p class="p1">location ~ .css {</p>
<p class="p1"><span class="Apple-converted-space">    </span>add_header<span class="Apple-converted-space">  </span>Content-Type<span class="Apple-converted-space">    </span>text/css;</p>
<p class="p1">}</p>
<p class="p1">location ~ .js {</p>
<p class="p1"><span class="Apple-converted-space">    </span>add_header<span class="Apple-converted-space">  </span>Content-Type<span class="Apple-converted-space">    </span>application/x-javascript;</p>
<p class="p1">}</p>
<p class="p1"><i><span class="Apple-converted-space">  </span>location / {</i></p>
<p class="p1"><i><span class="Apple-converted-space">    </span>proxy_pass<span class="Apple-converted-space">            </span>http://127.0.0.1:80;</i></p>
<p class="p1"><i><span class="Apple-converted-space">    </span>proxy_read_timeout<span class="Apple-converted-space">    </span>90;</i></p>
<p class="p1"><i><span class="Apple-converted-space">    </span>proxy_connect_timeout 90;</i></p>
<p class="p1"><i><span class="Apple-converted-space">    </span>proxy_redirect<span class="Apple-converted-space">        </span>off;</i></p>
<p class="p1">### Set headers ####</p>
<p class="p1"><span class="Apple-converted-space">                </span>proxy_set_header<span class="Apple-converted-space">        </span>Accept-Encoding <span class="Apple-converted-space">  </span>&#8220;&#8221;<i>;</i></p>
<p class="p1"><span class="Apple-converted-space">        </span>proxy_set_header<span class="Apple-converted-space">        </span>Host<span class="Apple-converted-space">            </span>$host<i>;</i></p>
<p class="p1"><span class="Apple-converted-space">        </span>proxy_set_header<span class="Apple-converted-space">        </span>X-Real-IP <span class="Apple-converted-space">      </span>$remote_addr<i>;</i></p>
<p class="p1"><span class="Apple-converted-space">        </span>proxy_set_header<span class="Apple-converted-space">        </span>X-Forwarded-For $proxy_add_x_forwarded_for<i>;</i></p>
<p class="p1">### Most PHP, Python, Rails, Java App can use this header ###</p>
<p class="p1">#proxy_set_header X-Forwarded-Proto https<i>;##</i></p>
<p class="p1">#This is better##</p>
<p class="p1"><span class="Apple-converted-space">        </span>proxy_set_header<span class="Apple-converted-space">        </span>X-Forwarded-Proto $scheme<i>;</i></p>
<p class="p1">add_header<span class="Apple-converted-space">              </span>Front-End-Https <span class="Apple-converted-space">  </span>on<i>;</i></p>
<p class="p1"><i><span class="Apple-converted-space">  </span>}</i></p>
<p class="p1"><i>}</i></p>
<p class="p1"><i>}</i></p>
<p class="p1">mkdir &#8220;/var/log/nginx/&#8221;</p>
<p class="p1">touch <b>&#8220;/var/log/nginx/error.log&#8221;</b></p>
<p class="p1">openssl dhparam -out /usr/local/www/nginx/dhparam.pem 2048</p>
<p class="p1">edit /etc/rc.conf</p>
<p class="p1">add</p>
<p class="p1">nginx_enable=&#8221;YES&#8221;</p>
<p class="p1">cd /usr/ports/databases/mariadb101-server</p>
<p class="p1">make config-recursive</p>
<p class="p1">make install clean</p>
<p class="p1">sysrc mysql_enable=yes</p>
<p class="p3"><a href="https://www.garron.me/en/linux/apache-event-php-fpm-mariadb-freebsd.html">https://www.garron.me/en/linux/apache-event-php-fpm-mariadb-freebsd.html</a></p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;VirtualHost *:80&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>ServerAdmin theo@theojones.name</p>
<p class="p1"><span class="Apple-converted-space">    </span>ServerName theojones.name</p>
<p class="p1"><span class="Apple-converted-space">    </span>ServerAlias www.theojones.name,ns527592.ip-198-27-64.net</p>
<p class="p1"><span class="Apple-converted-space">    </span>DocumentRoot /usr/local/www/apache24/data/theojones.name</p>
<p class="p1"><span class="Apple-converted-space">    </span>ErrorLog /var/log/theojones.name/error.log</p>
<p class="p1"><span class="Apple-converted-space">    </span>CustomLog /var/log/theojones.name/access.log combined <span class="Apple-converted-space">     </span></p>
<p class="p1"><span class="Apple-converted-space">  </span>ProxyPassMatch ^/(.*.php)$ fcgi://127.0.0.1:9000/usr/local/www/apache24/data/theojones.name$1</p>
<p class="p1"><span class="Apple-converted-space">        </span>ScriptAlias /cgi-bin/ &#8220;usr/local/www/apache24/data/theojones.name/cgi-bin/&#8221;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;Directory &#8220;/usr/local/www/apache24/data/theojones.name&#8221;&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>Options +Indexes +FollowSymLinks +ExecCGI</p>
<p class="p1"><span class="Apple-converted-space">        </span>AllowOverride AuthConfig FileInfo</p>
<p class="p1"><span class="Apple-converted-space">        </span>Require all granted</p>
<p class="p1"><span class="Apple-converted-space">        </span>Allow from all</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/Directory&gt;</p>
<p class="p1">&lt;/VirtualHost&gt;</p>
<p class="p3"><a href="http://codex.wordpress.org/Administration_Over_SSL">http://codex.wordpress.org/Administration_Over_SSL</a></p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;VirtualHost *:80&gt;</p>
<p class="p1"><span class="Apple-converted-space">       </span>ServerName theojones.name</p>
<p class="p1"><span class="Apple-converted-space">       </span>DocumentRoot /usr/local/www/apache24/data/theojones.name</p>
<p class="p1"><span class="Apple-converted-space">       </span>&lt;IfModule mod_rewrite.c&gt;</p>
<p class="p1"><span class="Apple-converted-space">             </span>RewriteEngine On</p>
<p class="p1"><span class="Apple-converted-space">            </span>RewriteCond %{HTTPS} off</p>
<p class="p1"><span class="Apple-converted-space">            </span>RewriteRule (.*) https://%{HTTP_HOST}%{REQUEST_URI}</p>
<p class="p1"><span class="Apple-converted-space">       </span>&lt;/IfModule&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;/VirtualHost&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;IfModule mod_ssl.c&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;VirtualHost *:443&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>ServerName theojones.name</p>
<p class="p1"><span class="Apple-converted-space">                        </span>DocumentRoot /usr/local/www/apache24/data/theojones.name</p>
<p class="p1"><span class="Apple-converted-space">                        </span>SSLEngine on</p>
<p class="p1"><span class="Apple-converted-space">                        </span>SSLCertificateFile &#8220;/usr/local/etc/letsencrypt/live/theojones.name/fullchain.pem&#8221;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>SSLCertificateKeyFile &#8220;/usr/local/etc/letsencrypt/live/theojones.name/privkey.pem&#8221;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;Directory /usr/local/www/apache24/data/theojones.name&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>Options All</p>
<p class="p1"><span class="Apple-converted-space">                </span>AllowOverride All</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/Directory&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/VirtualHost&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/IfModule&gt;</p>
<p>&nbsp;</p>
]]></content:encoded>
			<wfw:commentRss>https://microblog.theojones.name/2016/05/27/816/feed/</wfw:commentRss>
		<slash:comments>0</slash:comments>
		</item>
		<item>
		<title>Got done with some server reconfiguring over the&#8230;</title>
		<link>https://microblog.theojones.name/2016/05/25/got-done-with-some-server-reconfiguring-over-the/</link>
		<comments>https://microblog.theojones.name/2016/05/25/got-done-with-some-server-reconfiguring-over-the/#respond</comments>
		<pubDate>Wed, 25 May 2016 07:14:09 +0000</pubDate>
		<dc:creator><![CDATA[theojones]]></dc:creator>
				<category><![CDATA[meta]]></category>
		<category><![CDATA[tech]]></category>

		<guid isPermaLink="false">https://theojones.name/?p=758</guid>
		<description><![CDATA[Got done with some server reconfiguring over the weekend, and yesterday (and a bit tonight). Now I have varnish/nginx cacheing on the server. And a new host with a much more performant box.]]></description>
				<content:encoded><![CDATA[<p>Got done with some server reconfiguring over the weekend, and yesterday (and a bit tonight). Now I have varnish/nginx cacheing on the server. And a new host with a much more performant box.</p>
]]></content:encoded>
			<wfw:commentRss>https://microblog.theojones.name/2016/05/25/got-done-with-some-server-reconfiguring-over-the/feed/</wfw:commentRss>
		<slash:comments>0</slash:comments>
		</item>
		<item>
		<title>The structure of Facebook and other social media&#8230;</title>
		<link>https://microblog.theojones.name/2016/05/19/the-structure-of-facebook-and-other-social-media/</link>
		<comments>https://microblog.theojones.name/2016/05/19/the-structure-of-facebook-and-other-social-media/#respond</comments>
		<pubDate>Thu, 19 May 2016 22:48:31 +0000</pubDate>
		<dc:creator><![CDATA[theojones]]></dc:creator>
				<category><![CDATA[politics]]></category>
		<category><![CDATA[tech]]></category>

		<guid isPermaLink="false">https://theojones.name/?p=91</guid>
		<description><![CDATA[The structure of Facebook and other social media services is quite malformed if you want serious discussion about complex issues. Here is how design decisions in Facebook encourage shitposting The &#8220;like&#8221; and the &#8220;share&#8221; system (combined with the lack of a downvote mechanism) provides positive reinforcement to people who post low-quality content. There will be &#8230; <a href="https://microblog.theojones.name/2016/05/19/the-structure-of-facebook-and-other-social-media/" class="more-link">Continue reading<span class="screen-reader-text"> "The structure of Facebook and other social media&#8230;"</span></a>]]></description>
				<content:encoded><![CDATA[<p>The structure of Facebook and other social media services is quite malformed if you want serious discussion about complex issues. Here is how design decisions in Facebook encourage shitposting</p>
<ul>
<li>The &#8220;like&#8221; and the &#8220;share&#8221; system (combined with the lack of a downvote mechanism) provides positive reinforcement to people who post low-quality content. There will be a few likeminded people who like the stuff you share, even if it it is disliked by almost everyone else</li>
<li>Long-form content is second-class. While FB isn&#8217;t as extreme here as Twitter, its design still makes short posts and image posts more visible. This encourages memes and one liners over actual discussion.</li>
<li>Facebook bubbles users. It gives users what they have interacted with and liked in the past and filters out all of the other posts from their feed. This is done both on a per user basis and a site-wide basis. This limits exposure to opposing views.</li>
</ul>
<p>The effects of these tendencies on the broader world of political discourse are pernicious. People are no longer using traditional media sources, and are instead relying on social media more and more.</p>
]]></content:encoded>
			<wfw:commentRss>https://microblog.theojones.name/2016/05/19/the-structure-of-facebook-and-other-social-media/feed/</wfw:commentRss>
		<slash:comments>0</slash:comments>
		</item>
		<item>
		<title>Problems with Social Media</title>
		<link>https://microblog.theojones.name/2016/03/15/problems-with-social-media/</link>
		<comments>https://microblog.theojones.name/2016/03/15/problems-with-social-media/#comments</comments>
		<pubDate>Tue, 15 Mar 2016 03:26:26 +0000</pubDate>
		<dc:creator><![CDATA[theojones]]></dc:creator>
				<category><![CDATA[long]]></category>
		<category><![CDATA[politics]]></category>
		<category><![CDATA[tech]]></category>

		<guid isPermaLink="false">https://theojones.name/?p=27</guid>
		<description><![CDATA[I think there is a big issue in the structure of Twitter, Facebook and other social media content silos. These services try to be a jack of all trades, and wind up being a master of none. There are five roles that a communication service can fulfill, 1 to 1 communication between two individuals (ie. &#8230; <a href="https://microblog.theojones.name/2016/03/15/problems-with-social-media/" class="more-link">Continue reading<span class="screen-reader-text"> "Problems with Social Media"</span></a>]]></description>
				<content:encoded><![CDATA[<p>I think there is a big issue in the structure of Twitter, Facebook and other social media content silos. These services try to be a jack of all trades, and wind up being a master of none.</p>
<p>There are five roles that a communication service can fulfill,</p>
<ol>
<li>1 to 1 communication between two individuals (ie. personal email)</li>
<li>one to many communication (ie. a newspaper)</li>
<li>a group of like-minded individuals coming together to discuss a matter of common interest (ie. an Internet forum for conservatives)</li>
<li>a community of people with, disparate views to come together and discuss those differences (ie. a broader focus Internet forum)</li>
<li>core infrastructure that serves a bunch of unrelated users with different interests and goals (ie. a webhost).</li>
</ol>
<p>Your typical content silo tries to be all five, and this creates a lot of problems, and tensions.</p>
<h3 id="differing-expectations-and-sealions">Differing Expectations and Sealions</h3>
<p>This creates people with different expectations of what type of community they are dealing with. There are a lot of different communities and users with different goals. And sometimes these communities don’t get along. The structure of social media systems forces them into the same silo. This creates perverse outcomes.</p>
<p>Have you heard of the concept of sealioning? It refers the the tendency of a comment made on Twitter on a controversial subject, to attract a negative response from partisans on the issue. If you make a Tweet on a controversial subject, people will try to respond to you , and this can create some hostile dynamics. The phrase originates from <a href="http://wondermark.com/1k62/">a cartoon by David Malki</a>. In the cartoon, one character insults sealions in a conversation with another character. An anthropomorphic sealion then enters the conversation, and requests that the insulter justify the comment, and follows the insulter home.</p>
<p>The phrase <a href="http://knowyourmeme.com/memes/sea-lioning">came to prominence</a> during the whole #GamerGate shitshow. But it describes a situation that has preexisted that tirefire, and which still happens on many other issues. <a href="http://inthesetimes.com/article/18850/kind-of-discourse-we-need">Take the 2016 presidential election</a>, and the discussion about it on Twitter. Support a candidate, or oppose one vocally on Twitter, and you run the chance of getting a negative response from the partisans for that candidate. The supporters of both Trump and <a href="http://www.vox.com/2016/2/4/10918710/berniebro-bernie-bro">Sanders</a> are particularly known <a href="http://www.theatlantic.com/politics/archive/2015/10/here-comes-the-berniebro-bernie-sanders/411070/">for their aggression on social media</a> .</p>
<p>And then there is the strongly related phenomenon of the <a href="https://medium.com/@randileeharper/solving-twitter-dogpiles-7d7b102116c8#.f1q6hlo5i">Twitter dogpile</a>. In a dog-pile, someone writes a tweet that gets a lot of attention from other tweeters. Those angry at the offending tweet then send their responses to the original tweeter. The result is a flooding of the original tweeter with angry messages.</p>
<p>The tension between the different roles of Twitter is where the sealioning, dogpiling, and related issues comes from. Twitter (and other social media platforms) is at once functioning as a public forum for public discussion, and at once as a personalized medium. And its not navigating that impasse very well.</p>
<p>Remember the original cartoon. The sealion followed the person who insulted the sealion home home. And that’s what the people who complain about sealioning think is happening. Their vision of the purpose of Twitter is one in which they are dealing with like-minded people, or broadcasting their ideas to people who agree with them. Their conception of what Twitter is marks off 1,2,and three on my roles of a communication service, but they aren’t using Twitter for roles 4 and five. They look at their notifications and, like the sealioned person in the cartoon, see someone intruding on their home. Meanwhile, the person who is responding to the Tweet, thinks of Twitter as a way for people with disagreeing viewpoints to interact, and therefore thinks it is perfectly fine to rebut the person talking about how evil sealions are.</p>
<p>Considering the structure of Twitter, both have a point. The situation is at an impasse, and the structure of the platform tries to suit all possible uses at the expense of fulfilling none of them.</p>
<h3 id="censorship">Censorship</h3>
<p>This also creates some of the controversies over censorship. Social networks are in large part acting as core infrastructure, while also serving as content and communities on top of that infrastructure.</p>
<p>There are communities, and there are protocols. Infrastructure means there must be what in a decentralized system would be a protocol for communication. Protocols tend to have a strong tendency towards natural monopolies due to network effects. A communication protocol is only useful to the extent that other people are using it. Unless there are very strong intensives the other way, you will use the most popular protocol. The market will therefore become quite concentrated and non-competitive.</p>
<p>This has happened on lower levels of Internet-based protocols. Gopher lost the competition to HTTP. And so on.</p>
<p>In the pre-social media world, there was a separation between the communities themselves and the This website is a discrete community, and the VPS I host it on implements various protocols to allow users to get access to the content. But, as long as everyone agrees on the protocol itself, there can be competition on the higher levels of the system. There can be many blogs and fora with different owners served over HTTP. There can even be competition on the infrastructure level.</p>
<p>The multiple roles of most social networks serve to combine protocol with implementation. This makes the type of diversity of different communities and implementations that dominated the pre-social web impossible. It serves to concentrate substantial power over the Internet and the discourse that happens on it into the owners of these systems.</p>
<p>And its important infrastructure. Social media sites contain so much of Internet discourse that if your opinion is blocked from them, then you are at a severe disadvantage in getting it out. They are so powerful that by taking sides on political issues they could alter the discourse on those issues quite a bit. Its safe to say that both Sanders and Trump are social media candidates– if social media wasn’t available to them, then they couldn’t sustain their campaign solely on traditional media. FiveThirtyEight has a <a href="http://projects.fivethirtyeight.com/facebook-primary/">post up showing the social media mentions of each candidate for president</a> , if you want a visualization of this. Major social media websites taking sides on political issues could very quickly alter the whole political discourse of the country. Social media services and other Internet infrastructure.</p>
<p>The real problem and controversy comes from the dual roles of social media —- Twitter/Facebook/Tumblr isn’t purely infrastructure. They are also communities. The infrastructure role of these services pushes them in the direction of needing ideological diversity and tolerance for a wide range of varying viewpoints.</p>
<p>The community-like nature of these pushes them in the other direction.</p>
<p>This is in large part because the different communities can affect each other. If my webhost also hosted a neo-nazi blog, it wouldn’t affect my site very much. The neo-nazis could read their site, and my readers could read mine. But if a bunch of neo-nazis started using Twitter, then there would be clear leakage on the other users. And this could damage the reputation of Twitter. One remark that I’ve seen a few times on this issue: If a bunch of Hells Angles start attending your bar, then you become a Hells Angles bar unless you kick them out. If you are in the same tightly knit Internet community as some pretty terrible people – then those terrible people are going to affect you. Again an impasse created by the dual roles of Twitter.</p>
<h3 id="toxic-communities">Toxic communities</h3>
<p>The big social networks also tend to have some pretty nasty issues with toxic subcultures, and sub-communities. Tumblr is probably the worst in this vein. The site’s fandom and social justice sub-community wars have given the site a name in the broader Internet community.</p>
<p>And on Twitter you get toxic groups forming a collective group and becoming a menace to other users. This type of issue is definitely seen with tire-fires such as #GamerGate where you get a whole sub-community form that is a big dump of toxic on the rest of the users of the system.</p>
<p>The same leakage issue created by dual roles that I mentioned earlier applies here. When you have toxic neighbors, its hard to avoid their effects on your usage of the service.</p>
<p>But the multiple communication services roles problem creates another issue here. It becomes very difficult for the sub-communities to self-moderate. In a proper Internet forum the ban-hammer is always a option, and in well functioning communities often applied. Due to the broad,based infrastructure-like roles of the social networks, the banhammer is applied very lightly. Sub-communities can not eject their malefactors. The Bernie Sanders supporter community on Twitter can not eject the toxic berniebros that engage in crude and sexist behavior. If instead of Twitter, they were on an Internet forum dedicated towards their politics – the gentle, warm glow of the banhammer could be applied to these types. Both the reputation of the wider community and the ability for proper discourse to happen is greatly damaged.</p>
<h3 id="path-forward">Path Forward</h3>
<p>In the short run, social media services can address this issue by <a href="https://medium.com/art-marketing/putting-out-the-twitter-trashfire-3ac6cb1af3e#.8mten26a4">adding features</a> to their services that allow users to have more control over the messages they see. This control can allow users to adjust the nature of the service as used by them so that it is better suited to them. This could take the form of opt in filtering, options to adjust the user interface, options to suppress notifications, and opt-in blocklists.</p>
<p>However, this type of adjustment will not work in the long run . I think these problems are an inherent problem in the design of current social networking services, one that will eventually lead to their decline, and replacement with services that handle each type of Internet communication more individually. Solving these structural issues will 1) require returning to the decentralization of the pre-social media web, 2) replacing current social networks with general protocols, and 3) creating separate protocols for each major type of communication .</p>
<p>The reason Twitter type services gained popularity is more their ease of use, then their structure. Users want a presence on the web, one that is personalized, and that allows them to connect with others. The old, pre-social network web, had fewer of these issues. All of the major communication functions were well-separated. Discrete communities were isolated.</p>
<p>The problem here was ease of use. Getting an Internet presence outside of the use of social media services takes substantial technical skill. Skill that most users do not have. The first feature that a good social network replacement should have is ease of use.</p>
<p>Decentralization is also important. Current centralized social networking websites, such as Facebook have many flaws. They have persistent privacy issues and breaches. Their moderation policies are often problematic and applied arbitrarily. These systems are vulnerable to censorship and government manipulation. The risks of this to privacy are shown by the NSA leaks. The risks to <a href="http://www.dailymail.co.uk/news/article-2238519/Facebook-bans-picture-woman-reclining-bathtub--shows-elbow.html">free speech are shown by how, when under pressure from the Turkish government Facebook restricted posts advocating</a> Kurdish independence and “Any attack on Ataturk [Turkey’s first president]”. With a centralized structure these issues of government interference are almost unavoidable. The nature of these networks also means that there is little ability for the user to modify and customize the interface because all of the code runs on the server, and because this code is not open source. This is part of the reason why Facebook has to roll out interface changes to all users, often with many dissatisfied users. Some projects have tried to improve the Facebook interface by running client-side software that modifies the HTML and JavaScript produced by Facebook, but this method is error prone. A distributed social network built around a single protocol that allows different implementations of the system, running on different servers would fix these issues. A decentralized social network would lessen all of the issues I discussed. If individuals run their own servers, governments would have a hard time controlling these servers. A decentralized system would allow many different implementations and configurations of the system to run. The users would be allowed to choose from the configuration that best suits their wants. They would also be able to chose from different hosts of the system.</p>
<p>A path forward will require the creation of new services that implement the flexibility of the old web, with the ease of use of modern social networking services.</p>
]]></content:encoded>
			<wfw:commentRss>https://microblog.theojones.name/2016/03/15/problems-with-social-media/feed/</wfw:commentRss>
		<slash:comments>1</slash:comments>
		</item>
		<item>
		<title>How I configured this website</title>
		<link>https://microblog.theojones.name/2016/02/28/how-i-configured-this-website/</link>
		<comments>https://microblog.theojones.name/2016/02/28/how-i-configured-this-website/#respond</comments>
		<pubDate>Sun, 28 Feb 2016 04:36:13 +0000</pubDate>
		<dc:creator><![CDATA[theojones]]></dc:creator>
				<category><![CDATA[meta]]></category>
		<category><![CDATA[tech]]></category>

		<guid isPermaLink="false">https://theojones.name/?p=31</guid>
		<description><![CDATA[This post details how I set up this website and its server. This is in part for my reference. For my setup I went with Freebsd. Because of issues I&#8217;ve had with CMSes in the past, I&#8217;m going with a static site based install with no PHP or Mysql. The http server is Apache, and &#8230; <a href="https://microblog.theojones.name/2016/02/28/how-i-configured-this-website/" class="more-link">Continue reading<span class="screen-reader-text"> "How I configured this website"</span></a>]]></description>
				<content:encoded><![CDATA[<p>This post details how I set up this website and its server. This is in part for my reference. For my setup I went with Freebsd. Because of issues I&#8217;ve had with CMSes in the past, I&#8217;m going with a static site based install with no PHP or Mysql. The http server is Apache, and SSL is present, and configured with HTTP Strict Transport Security, and plain http redirects to HTTPS. I want a setup that is pretty minimalistic and secure. I am running an email server, with spam filtering outsourced to a hosted spam filtering service. My VPS host is buy VM.</p>
<h2>Freebsd install</h2>
<p>The FreeBSD install is pretty simple. A few notes here.<br />
&#42; uncheck &#8220;games&#8221; on the &#8220;distribution select&#8221; screen. These are not useful in<br />
&#42; Begin guided partitioning partitioning mode.<br />
&#42; Select entire disk and confirm that you want to erase the whole hard drive<br />
&#42; check the allocation it came up with and commit<br />
&#42; set password. A secure, long password is particularly important here, because the is a remotely accessible system. A large number of the pw3d boxen I have seen have been compromised due to a bad password.<br />
&#42; Configure the network as per your need.<br />
&#42; Set time as per your system<br />
&#42; Set sshd to start at boot. You need open ssh for remote administration.<br />
&#42; Enable crash dumps<br />
&#42; Set users as per your preference</p>
<h2>Initial Config</h2>
<p>Ssh into the regular account created. Use the su command to excelate privileges.</p>
<p>Update your ports. This is the very first thing you should do, because you will encounter errors if you try to install from the old ports that are included with the install by default.</p>
<p>portsnap fetch<br />
portsnap extract</p>
<p>Install the portmaster tool to assist in port upgrades.</p>
<p>cd /usr/ports/ports-mgmt/portmaster<br />
make config-recursive<br />
make install clean</p>
<p>Upgrade all ports</p>
<p>portmaster -a</p>
<p>Install OS security patches<br />
freebsd-update fetch</p>
<h2>Mosh Shell</h2>
<p>Mosh is an alternative remote access system to OpenSSH. It is more fault tolerant of intermittent connections, and has other benefits over raw OpenSSH.<br />
Install it as follows.<br />
cd /usr/ports/net/mosh<br />
make config-recursive<br />
make install clean</p>
<h2>git</h2>
<p>Git is needed for a number of tasks. It is used in a number of the ports, and is used to download config files later in the tutorial. Install it as follows<br />
cd /usr/ports/devel/git/<br />
make config-recursive<br />
make install clean</p>
<h2>Lets Encrypt: Install the Lets Encrypt Client</h2>
<p>Lets Encrypt is an utility that allows you to generate free SSL certificates. Install it as follows.<br />
cd /usr/ports/security/py-letsencrypt/<br />
make config-recursive<br />
make install clean</p>
<h2>Produce the Certificates</h2>
<p>letsencrypt certonly</p>
<p>You can enter multiple domains/subdomains in a single certificate, but this increases processing time enough that it isn&#8217;t worth it, unless you have<br />
a large number of subdomains. Ie.<br />
theojones.name,photos.theojones.name,archive.theojones.name,theodorejones.info</p>
<p>Certs are in /usr/local/etc/letsencrypt/live/</p>
<h2>Apache</h2>
<p>Install the Apache web server<br />
cd /usr/ports/www/apache24/<br />
make config-recursive<br />
make install clean</p>
<p>add the following line to /etc/rc.conf:</p>
<p>apache24_enable=&#8221;YES&#8221;</p>
<p>Start the server<br />
service apache24 start</p>
<p>create a folder for your document root<br />
mkdir /usr/local/www/apache24/data/theodorejones.info<br />
edit &#8220;/usr/local/etc/apache24/httpd.conf&#8221;</p>
<p>Add the following to your configuration file. These are the web server modules that you will need.<br />
LoadModule authn_socache_module libexec/apache24/mod_authn_socache.so<br />
LoadModule socache_shmcb_module libexec/apache24/mod_socache_shmcb.so<br />
LoadModule unixd_module libexec/apache24/mod_unixd.so<br />
LoadModule mpm_event_module libexec/apache24/mod_mpm_event.so<br />
LoadModule ssl_module libexec/apache24/mod_ssl.so<br />
LoadModule authn_core_module libexec/apache24/mod_authn_core.so<br />
LoadModule authz_core_module libexec/apache24/mod_authz_core.so<br />
LoadModule log_config_module libexec/apache24/mod_log_config.so<br />
LoadModule headers_module libexec/apache24/mod_headers.so<br />
LoadModule unique_id_module libexec/apache24/mod_unique_id.so<br />
LoadModule rewrite_module libexec/apache24/mod_rewrite.so<br />
LoadModule autoindex_module libexec/apache24/mod_autoindex.so<br />
LoadModule mime_magic_module libexec/apache24/mod_mime_magic.so<br />
LoadModule dir_module libexec/apache24/mod_dir.so<br />
LoadModule setenvif_module libexec/apache24/mod_setenvif.so<br />
LoadModule alias_module libexec/apache24/mod_alias.so<br />
LoadModule authz_host_module libexec/apache24/mod_authz_host.so<br />
LoadModule mime_module libexec/apache24/mod_mime.so<br />
ServerName theojones.name:80<br />
Include etc/apache24/extra/httpd-ssl.conf<br />
DirectoryIndex index.html</p>
<p>Comment out all other LoadModule lines</p>
<p>Edit /usr/local/etc/apache24/extra/httpd-ssl.conf<br />
and set cert and key</p>
<p>Add the following</p>
<p>SSLProtocol -ALL +TLSv1.2<br />
SSLHonorCipherOrder On<br />
SSLCipherSuite &#8220;EECDH+ECDSA+AESGCM EECDH+aRSA+AESGCM EECDH+ECDSA+SHA384 EECDH EDH+aRSA !aNULL !eNULL !LOW !3DES !RC4 !MD5 !EXP !PSK !SRP !DSS&#8221;<br />
SSLCompression off<br />
Header always set X-Frame-Options DENY<br />
Header always set X-Content-Type-Options nosniff</p>
<ol>
<li>Requires Apache &gt;= 2.4</li>
</ol>
<p>SSLCompression off<br />
SSLSessionTickets Off<br />
SSLUseStapling on<br />
SSLStaplingCache &#8220;shmcb:logs/stapling-cache(150000)&#8221;<br />
Header always set Strict-Transport-Security &#8220;max-age=63072000; includeSubdomains; preload&#8221;</p>
<p>For each domain add the following appropriately edited in /usr/local/etc/apache24/httpd.conf<br />
ServerName theodorejones.info<br />
DocumentRoot /usr/local/www/apache24/data/theodorejones.info</p>
<p>RewriteEngine On<br />
RewriteCond %{HTTPS} off<br />
RewriteRule (.*) https://%{HTTP_HOST}%{REQUEST_URI}</p>
<p>ServerName theodorejones.info<br />
DocumentRoot /usr/local/www/apache24/data/theodorejones.info<br />
SSLEngine on<br />
SSLCertificateFile &#8220;/usr/local/etc/letsencrypt/live/theodorejones.info/fullchain.pem&#8221;<br />
SSLCertificateKeyFile &#8220;/usr/local/etc/letsencrypt/live/theodorejones.info/privkey.pem&#8221;</p>
<p>Options All<br />
AllowOverride All</p>
<p>Run<br />
service apache24 start</p>
<h2>Server hardening</h2>
<p>See, <a href="http://geekflare.com/apache-web-server-hardening-security/">http://geekflare.com/apache-web-server-hardening-security/</a></p>
<p>edit &#8220;/usr/local/etc/apache24/httpd.conf&#8221;<br />
Add.<br />
#Hardening<br />
ServerTokens Prod<br />
ServerSignature Off<br />
FileETag None<br />
TraceEnable off<br />
Header edit Set-Cookie ^(.<em>)$ $1;HttpOnly;Secure<br />
Header always append X-Frame-Options SAMEORIGIN<br />
RewriteEngine On<br />
RewriteCond %{THE_REQUEST} !HTTP/1.1$<br />
RewriteRule .</em> &#8211; [F]<br />
Timeout 60</p>
<h2>Mod Security</h2>
<p>Install Mod Security<br />
See, <a href="https://lifeforms.nl/20140221/install-modsecurity-freebsd">https://lifeforms.nl/20140221/install-modsecurity-freebsd</a><br />
cd /usr/ports/www/mod_security<br />
make config-recursive<br />
make install clean</p>
<p>mkdir -p /usr/local/etc/modsecurity<br />
cd /usr/local/etc/modsecurity<br />
git clone https://github.com/SpiderLabs/owasp-modsecurity-crs crs</p>
<p>cp /usr/local/etc/modsecurity.conf-example modsecurity.conf<br />
fetch https://raw.github.com/SpiderLabs/ModSecurity/master/unicode.mapping<br />
cp crs/modsecurity_crs_10_setup.conf.example modsecurity_crs_10_setup.conf</p>
<p>Edit /usr/local/etc/apache24/modules.d/000_modsecurity.conf<br />
and add</p>
<ol>
<li>Load ModSecurity</li>
<li>Comment out the next line to temporarily disable ModSecurity:</li>
</ol>
<p>LoadModule security2_module libexec/apache24/mod_security2.so</p>
<ol>
<li>Include ModSecurity configuration</li>
</ol>
<p>Include etc/modsecurity/modsecurity.conf</p>
<ol>
<li>Include OWASP Core Rule Set (CRS) configuration and base rules</li>
</ol>
<p>Include etc/modsecurity/modsecurity_crs_10_setup.conf<br />
Include etc/modsecurity/crs/base_rules/*.conf</p>
<ol>
<li>Add custom configuration and CRS exceptions here. Example:</li>
<li>SecRuleRemoveById 960015</li>
</ol>
<p>Edit /usr/local/etc/modsecurity/modsecurity.conf and set<br />
SecRuleEngine On<br />
SecServerSignature YourServerName</p>
<p>Shut off all other httpd modules</p>
<h2>Opensmtpd</h2>
<p>Opensmtpd is a SMTP server that is easy to configure. It is configured to listen on port 13456 because I use the MxGuardDog spam filtering service which forwards mail to that port. Change this to a randomly decided port.</p>
<p>cd /usr/ports/mail/opensmtpd/ &amp;&amp; make install clean</p>
<p>Edit /usr/local/etc/mail/smtpd.conf</p>
<p>listen on 198.251.80.156 port 13456</p>
<p>table aliases file:/etc/mail/aliases<br />
accept from any for domain theojones.name deliver to maildir<br />
accept from local for any relay</p>
<p>Edit<br />
/etc/rc.conf</p>
<p>smtpd_enable=&#8221;YES&#8221;</p>
<h2>courrier imap</h2>
<p>Courrier IMAP is a simple IMAP server<br />
cd /usr/ports/mail/courier-imap;</p>
<p>make config<br />
make install</p>
<p>echo courier_imap_imapd_enable=&#8221;YES&#8221; &gt;&gt; /etc/rc.conf<br />
echo courier_authdaemond_enable=&#8221;YES&#8221; &gt;&gt; /etc/rc.conf</p>
<p>/usr/local/etc/rc.d/courier-imap-imapd start<br />
/usr/local/etc/rc.d/courier-authdaemond start</p>
<h2>Daily Maintenance</h2>
<p>Run these commands on a regular basis to keep the system updated.</p>
<p>freebsd-update fetch<br />
freebsd-update install<br />
portsnap fetch update<br />
portmaster -a</p>
]]></content:encoded>
			<wfw:commentRss>https://microblog.theojones.name/2016/02/28/how-i-configured-this-website/feed/</wfw:commentRss>
		<slash:comments>0</slash:comments>
		</item>
		<item>
		<title>There are a whole crapload of pre built&#8230;</title>
		<link>https://microblog.theojones.name/2015/12/24/there-are-a-whole-crapload-of-pre-built/</link>
		<comments>https://microblog.theojones.name/2015/12/24/there-are-a-whole-crapload-of-pre-built/#respond</comments>
		<pubDate>Thu, 24 Dec 2015 01:16:20 +0000</pubDate>
		<dc:creator><![CDATA[theojones]]></dc:creator>
				<category><![CDATA[tech]]></category>

		<guid isPermaLink="false">https://theojones.name/?p=44</guid>
		<description><![CDATA[There are a whole crapload of pre-built linux-based devices with jaw-droppingly insecure default settings. The favorite one I&#8217;ve seen is a slightly off brand (but still $150) NAS that one of my friends bought. It runs a variant of ARM Debian. It by default puts both telnet and SSH services online as a default setting. &#8230; <a href="https://microblog.theojones.name/2015/12/24/there-are-a-whole-crapload-of-pre-built/" class="more-link">Continue reading<span class="screen-reader-text"> "There are a whole crapload of pre built&#8230;"</span></a>]]></description>
				<content:encoded><![CDATA[<p>There are a whole crapload of pre-built linux-based devices with jaw-droppingly insecure default settings.</p>
<p>The favorite one I&#8217;ve seen is a slightly off brand (but still $150) NAS that one of my friends bought. It runs a variant of ARM Debian.  It by default puts both telnet and SSH services online as a default setting. And it used universal plug and play to make these services available on the open internet (without any prompting from the user required). The manual and configuration menu does not make this clear.  Or really provide any indication that anything is going on beyond the LAN. Its initial config does not force a password change. My friend got it to store music and photos on a home network and wasn&#8217;t quite the computer type. The default password was &#8220;admin&#8221; and this corresponded to an ssh accessible account with full sudo permissions of &#8220;admin&#8221;. And, of course, the NAS was as pw3d as you would guess after a week. The friend called me in to clean up the mess after his ISP forwarded him an abuse complaint from a german forum admin complaining that something on the friend&#8217;s IP address spammed his site.</p>
<p>Because it is a weird embedded device I couldn&#8217;t figure out how to de-rootkit the NAS</p>
]]></content:encoded>
			<wfw:commentRss>https://microblog.theojones.name/2015/12/24/there-are-a-whole-crapload-of-pre-built/feed/</wfw:commentRss>
		<slash:comments>0</slash:comments>
		</item>
	</channel>
</rss>
