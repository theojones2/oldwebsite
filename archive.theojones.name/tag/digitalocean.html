<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Theo Jones</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="viewport" content="initial-scale=1.0" media="(device-height: 568px)"/>
    <meta name="description" content="Thoughts and Ideas">
    <meta name="generator" content="Known https://withknown.com">
    <meta http-equiv="Content-Language" content="en">

    <!--Le fav and touch icons-->
<link rel="apple-touch-icon" sizes="57x57" href="../gfx/logos/apple-icon-57x57.png" />
<link rel="apple-touch-icon" sizes="72x72" href="../gfx/logos/apple-icon-72x72.png" />
<link rel="apple-touch-icon" sizes="114x114" href="../gfx/logos/apple-icon-114x114.png" />
<link rel="apple-touch-icon" sizes="144x144" href="../gfx/logos/apple-icon-144x144.png" />    <link rel="shortcut icon" type="image/png" href="../gfx/logos/logo_k.png">
<!-- Make this an "app" when saved to an ios device's home screen -->
<link rel="apple-touch-icon-precomposed" href="../gfx/logos/logo_k.png">
<!-- Make this an "app" when saved to an ios device's home screen -->
<link rel="apple-touch-icon" href="../gfx/logos/logo_k.png">
<!-- <meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black"> -->
    <meta property="og:type" content="website" />
<meta property="og:title" content="Theo Jones" />
<meta property="og:site_name" content="Theo Jones" />
<meta property="og:image" content="https://www.theojones.name/gfx/logos/logo_k.png" />


    <!-- Dublin Core -->
    <link rel="schema.DC" href="http://purl.org/dc/elements/1.1/">
    <meta name="DC.title" content="Theo Jones">
    <meta name="DC.description" content="Thoughts and Ideas">    <!-- AMP versions -->
    <link rel="amphtml" href="digitalocean-_t=amp.html">

    <!-- We need jQuery at the top of the page -->
    <script src="../external/jquery/jquery.min.js"></script>

    <!-- Le styles -->
    <link
        href="../external/bootstrap/assets/css/bootstrap.min.css"
        rel="stylesheet"/>
    <link
        href="../external/bootstrap/assets/css/bootstrap-theme.min.css"/>
    <script
        src="../external/bootstrap/assets/js/bootstrap.min.js"></script>

    <!-- Accessibility -->
    <link rel="stylesheet"
          href="../external/paypal-bootstrap-accessibility-plugin/plugins/css/bootstrap-accessibility_1.0.3.css">
    <script
        src="../external/paypal-bootstrap-accessibility-plugin/plugins/js/bootstrap-accessibility_1.0.3.min.js"></script>

    <!-- Fonts -->
    <link rel="stylesheet"
          href="../external/font-awesome/css/font-awesome.css">
    <!--<link rel="stylesheet"
          href="https://www.theojones.name/external/font-awesome/css/font-awesome.min.css">-->
    <style>body {
            padding-top: 100px; /* 60px to make the container go all the way to the bottom of the topbar */
        }
    </style>

    <link href="../css/default-20150907.css" rel="stylesheet">
<link href="../css/defaultb3-20150123.css" rel="stylesheet">
    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
    <script
        src="https://www.theojones.name/external/bootstrap/assets/js/html5shiv.js"></script>
    <![endif]-->

    <!-- Default Known JavaScript -->
    <script src="../js/default-20150406.js"></script>

    <!-- To silo is human, to syndicate divine -->
    <link rel="alternate" type="application/rss+xml" title="Theo Jones"
          href="digitalocean-_t=rss.rss"/>
    <link rel="feed" type="application/rss+xml" title="Theo Jones"
          href="digitalocean-_t=rss.rss"/>
    <link rel="alternate feed" type="application/rss+xml"
          title="Theo Jones: all content"
          href="../content/all-_t=rss.rss"/>
    <link rel="feed" type="text/html" title="Theo Jones"
          href="../content/all.html"/>

    <!-- Webmention endpoint -->
    <link href="../webmention/index.html" rel="http://webmention.org/"/>
    <link href="../webmention/index.html" rel="webmention"/>

                <!-- Pubsubhubbub -->
        <link href="http://withknown.superfeedr.com/" rel="hub"/>
    
    
    <script src="../external/fragmention/fragmention.js"></script>

    <!-- Syndication -->
    <link
        href="../external/bootstrap-toggle/css/bootstrap-toggle.min.css"
        rel="stylesheet"/>
    <script
        src="../external/bootstrap-toggle/js/bootstrap-toggle.js"></script>

    <style>.withknown-plugin {
        padding-top: 0.25em;
        padding-bottom: 0.25em;
        background-color: #fff;
        margin-bottom: 0.5em;
    }

    .withknown-plugin p,
    .withknown-plugin h4,
    .withknown-plugin form
    {
        margin: 0; padding: 0;
    }

    .withknown-plugin .plugin-content h4
    {
        padding-top: 0.25em;
    }

    .withknown-plugin .plugin-content p
    {
        padding-top: 0.3em;
    }

    .withknown-plugin .plugin-content {
        color: #777;
    }

    .withknown-plugin input[type=submit]
    {
        width: 100px;
    }
    
    .withknown-plugin .btn-enabled {
    background-color: #70997a;
    background-image: none;
    background-repeat: repeat-x;
    border-color: #70997a;
    color: #ffffff;
    text-shadow: none;
	}
	
	.withknown-plugin .btn-enabled:hover, 
	.withknown-plugin .btn-enabled:focus, 
	.withknown-plugin .btn-enabled:active, 
	.withknown-plugin .btn-enabled.active, 
	.withknown-plugin .btn-enabled.disabled, 
	.withknown-plugin .btn-enabled[disabled] {
    background-color: #678c70;
    border-color: #678c70;
    color: #ffffff;
	}
	
	.withknown-plugin .btn-default {
	color: #666666;
	}
	
	.withknown-plugin .span2 {
		margin-left: 0px;
	}
	
    .withknown-plugin h4 {
		color: #222;
	}

    .withknown-pro-block {
        text-align: center;
        border: 0;
        border-top: 2px #ccc solid;
        border-bottom: 2px #ccc solid;
        margin-bottom: 2em;
        margin-top: 20px;
    }
</style><link rel="stylesheet" href="../IdnoPlugins/Checkin/external/leaflet/leaflet.css"/>
<!--[if lte IE 8]>
<link rel="stylesheet" href="https://www.theojones.name/IdnoPlugins/Checkin/external/leaflet/leaflet.ie.css"/>
<![endif]-->
<script type="text/javascript" src="../IdnoPlugins/Checkin/external/leaflet/leaflet.js"></script>
<script type="text/javascript" src="../IdnoPlugins/Checkin/external/stamen-maps/tile.stamen.js"></script>
<script src='https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script><link rel="openid.delegate" href="../index.html" />
<link rel="openid.server" href="https://indieauth.com/openid" />
<link rel="authorization_endpoint" href="../session/login-fwd=https-%7C%7Cwww.theojones.name%7Cindieauth%7Cauth.html">
<link rel="token_endpoint" href="../indieauth/token.html">
<link rel="micropub" href="../session/login-fwd=%7Cmicropub%7Cendpoint.html"><link href="../Themes/Solo/css/default.css" rel="stylesheet">    
</head>

<body class="idno_pages_homepage page-tag page-tag-digitalocean logged-out">
<div id="pjax-container" class="page-container">
    <a href="digitalocean.html#maincontent" style="display:none">Skip to main content</a>
<nav class="navbar navbar-default navbar-fixed-top">
    <div class="container">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" tabindex="1" href="../index.html">Theo Jones</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="navbar-collapse">

            <form class="navbar-form navbar-left" action="https://www.theojones.name/content/all" method="get" role="search">
    <div class="form-group">
        <input type="search" class="search-query form-control" name="q" placeholder="Search" tabindex="2" value="#digitalocean">
    </div>
</form><ul class="nav navbar-nav">
        
            <li class="dropdown" tabindex="3">
                <a href="digitalocean.html#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
                    All content                    <span class="caret"></span>
                </a>
                <ul class="dropdown-menu" role="menu">
                    <li><a href="../index-q=-digitalocean.html"><span class="dropdown-menu-icon">&nbsp;</span>
                            Default content</a></li>
                    <li><a href="../content/all/index-q=-digitalocean.html"><span class="dropdown-menu-icon">&nbsp;</span>
                            All content</a></li>
                                                    <li><a
                                    href="../content/statusupdates/index-q=-digitalocean.html"><span
                                        class="dropdown-menu-icon"><i class="fa fa-comment-o"></i></span> Status updates                                </a></li>                                <li><a
                                    href="../content/posts/index-q=-digitalocean.html"><span
                                        class="dropdown-menu-icon"><i class="fa fa-align-left"></i>
</span> Posts                                </a></li>                                <li><a
                                    href="../content/photos/index-q=-digitalocean.html"><span
                                        class="dropdown-menu-icon"><i class="fa fa-picture-o"></i>
</span> Photos                                </a></li>                                <li><a
                                    href="../content/locations/index-q=-digitalocean.html"><span
                                        class="dropdown-menu-icon"><i class="fa fa-map-marker"></i>
</span> Locations                                </a></li>                                <li><a
                                    href="../content/bookmarkedpages/index-q=-digitalocean.html"><span
                                        class="dropdown-menu-icon"><i class="fa fa-bookmark"></i>
</span> Bookmarked pages                                </a></li>                                <li><a
                                    href="../content/audio/index-q=-digitalocean.html"><span
                                        class="dropdown-menu-icon"><i class="fa fa-microphone"></i>
</span> Audio                                </a></li>                                <li><a
                                    href="../content/events/index-q=-digitalocean.html"><span
                                        class="dropdown-menu-icon"><i class="fa fa-calendar"></i>
</span> Events                                </a></li>                                <li><a
                                    href="../content/rsvp/index-q=-digitalocean.html"><span
                                        class="dropdown-menu-icon"><i class="fa fa-calendar-o"></i>
</span> RSVP                                </a></li>

                </ul>
            </li>

    </ul>
            <ul class="nav navbar-nav navbar-right">
                

    <li><a href="../session/login.html">Sign in</a></li>            </ul>

        </div><!-- /.navbar-collapse -->
    </div><!-- /.container-fluid -->
</nav>
    <div class="container page-body">
        <a name="pagecontent"></a>
                                    <div class="row idno-entry idno-entry-entry">

                <div
                    class="col-md-8 col-md-offset-2 h-entry idno-posts idno-object idno-content">
                    <div style="display: none"> <!-- This is useful for webmentions -->
                        <p class="p-author author h-card vcard">
                            <a href="../profile/tjones2.html" class="icon-container"><img
                                    class="u-logo logo u-photo photo" src="https://www.theojones.name/file/de911cc1bf544396092c15df5d71aa2e"/></a>
                            <a class="p-name fn u-url url" href="../profile/tjones2.html">Theo Jones</a>
                            <a class="u-url" href="../profile/tjones2.html">
                                <!-- This is here to force the hand of your MF2 parser --></a>
                        </p>
                    </div>
                                        <div class="e-content entry-content">
                        <div>
                <h2 class="p-name"><a
                    href="../2014/new-server-installation-new-blogging-engine-web-and-mail-on.html">New Server Installation/ New Blogging Engine / Web and Mail on Ubuntu</a>
            </h2>
                    <p class="reading">
                <span class="vague">6 min read </span>
            </p>
            
<p>As you have have noticed from some of the recent posts, and the bit of downtime I have done some reconfiguration of this website. I switched the blog engine from wordpress to ghost. I have also switched from Debian to Ubuntu (and made a few other changes). Some details about the new config are as follows. The new setup is based on the ghost image from Digital Ocean (the host of the VPS that this website runs on). I will discuss why I made this change later.</p>

<p>[caption id="attachment_1318" align="alignright" width="226"]<a href="../wp-content/uploads/2014/12/31436961_33399f4066_o.jpg.html"><img class="size-medium wp-image-1318" src="../wp-content/uploads/2014/12/31436961_33399f4066_o-226x300.jpg.html" alt="Image Via Flickr (user sylvar) &lt;a href=" https:>https:/<wbr></wbr>/<wbr></wbr>flic.kr/<wbr></wbr>p/<wbr></wbr>3M87z</a>" width="226" height="300" /&gt; Image Via Flickr (user sylvar) <a href="https://flic.kr/p/3M87z%5B/caption%5D">https:/<wbr></wbr>/<wbr></wbr>flic.kr/<wbr></wbr>p/<wbr></wbr>3M87z[/<wbr></wbr>caption]</a></p>

<p>I use the mosh remote connection system rather than Openssh to remotely manage the server. The instructions <a href="http://mosh.mit.edu/">available on the Mosh website</a> work well for this installation.</p>

<p>Mosh<br />$ sudo apt-get install python-software-properties</p>

<p>$ sudo add-apt-repository ppa:keithw/mosh</p>

<p>$ sudo apt-get update</p>

<p>$ sudo apt-get install mosh</p>

<p><a href="http://www.linuxscrew.com/2012/04/11/why-mosh-is-better-than-ssh/">Mosh has multiple clear benefits.</a> 1) it handles special sequences like control-c better than ssh (i.e it dosn't wait for the current task to finish), 2) it can handle network disconnects and IP address changes, 3)its executable runs as a normal user, minimizing security issues, and 4) it handles lagged terminals better. It is worth noting that Mosh is not a complete replacement for SSH, it still uses SSH for authentication.</p>

<p>Using mosh from the client side is simple.</p>

<p>$mosh root@server</p>

<p>It may be a good idea to swap OpenSSH for the lighter weight dropbear if you don't use Mosh.Install Dropbear</p>

<p>$ apt-get install dropbear</p>

<p>Edit<br />/etc/default/dropbear</p>

<p>Set <em>NO_START=0 </em><br />This option makes dropbear run on boot.</p>

<p>Also set <em>DROPBEAR<em>EXTRA</em>ARGS="-a"</em>.</p>

<p>If you installed dropbear remove the openssh server if it is present.</p>

<p>$ apt-get remove openssh-server</p>

<p>Reboot.</p>

<p>You may want to create a non-root user at this point. This has some security advantages (mostly in the case of multi user systems). You can see some articles on this as follows<br /><a href="http://security.stackexchange.com/questions/34915/what-is-the-actual-value-of-disabling-remote-root-login-using-ssh"></a><a href="http://security.stackexchange.com/questions/34915/what-is-the-actual-value-of-disabling-remote-root-login-using-ssh">http:/<wbr></wbr>/<wbr></wbr>security.stackexchange.com/<wbr></wbr>questions/<wbr></wbr>34915/<wbr></wbr>what-is-the-actual-value-of-disabling-remote-root-login-using-ssh</a><br /><a href="https://linuxacademy.com/blog/linux/when-you-should-and-should-not-disable-root-login/"></a><a href="https://linuxacademy.com/blog/linux/when-you-should-and-should-not-disable-root-login/">https:/<wbr></wbr>/<wbr></wbr>linuxacademy.com/<wbr></wbr>blog/<wbr></wbr>linux/<wbr></wbr>when-you-should-and-should-not-disable-root-login/<wbr></wbr></a></p>

<p>It can be done as the following:<br />useradd theo</p>

<p>I use the UFW firewall. Two good articles on this are as follows.</p>

<p><a href="https://www.digitalocean.com/community/tutorials/how-to-setup-a-firewall-with-ufw-on-an-ubuntu-and-debian-cloud-server"></a><a href="https://www.digitalocean.com/community/tutorials/how-to-setup-a-firewall-with-ufw-on-an-ubuntu-and-debian-cloud-server">https:/<wbr></wbr>/<wbr></wbr>www.digitalocean.com/<wbr></wbr>community/<wbr></wbr>tutorials/<wbr></wbr>how-to-setup-a-firewall-with-ufw-on-an-ubuntu-and-debian-cloud-server</a><br /><a href="https://www.digitalocean.com/community/tutorials/how-to-install-and-use-mosh-on-a-vps"></a><a href="https://www.digitalocean.com/community/tutorials/how-to-install-and-use-mosh-on-a-vps">https:/<wbr></wbr>/<wbr></wbr>www.digitalocean.com/<wbr></wbr>community/<wbr></wbr>tutorials/<wbr></wbr>how-to-install-and-use-mosh-on-a-vps</a></p>

<p>Here is a summary of what I did.<br />$apt-get install ufw</p>

<p>The above command installs UFW. This is often installed by defauly</p>

<p>$ ufw allow 22</p>

<p>The above command allows ssh to pass through the firewall.</p>

<p>$ufw allow 60000:61000/udp</p>

<p>The above command allows mosh to pass through.</p>

<p>Edit /etc/default/ufw and adjust ipv6 settings</p>

<p>The following two commands sets all defaults to deny, for both outgoing and incoming traffic<br />$sudo ufw default deny incoming</p>

<p>$sudo ufw default deny outgoing</p>

<p>Start UFW</p>

<p>sudo ufw disable --- just in case its on<br />sudo ufw enable</p>

<p>ufw allow out 53</p>

<p>The above allows outgoing DNS traffic</p>

<p>ufw allow http --- web<br />ufw allow out http<br />ufw allow https --- web over ssl<br />ufw allow out https</p>

<p>ufw allow smtp -- to send/receive email<br />ufw allow out smtp</p>

<p>ufw allow imap -- pick up email</p>

<p>I poked around with an alternate setup for a LEMP Stack. Here are some notes<br /><a href="https://www.digitalocean.com/community/tutorials/how-to-install-linux-nginx-mysql-php-lemp-stack-on-ubuntu-14-04"></a><a href="https://www.digitalocean.com/community/tutorials/how-to-install-linux-nginx-mysql-php-lemp-stack-on-ubuntu-14-04">https:/<wbr></wbr>/<wbr></wbr>www.digitalocean.com/<wbr></wbr>community/<wbr></wbr>tutorials/<wbr></wbr>how-to-install-linux-nginx-mysql-php-lemp-stack-on-ubuntu-14-04</a></p>

<p>apt-get update && apt-get upgrade</p>

<p>apt-get install nginx</p>

<p>apt-get install mysql-server<br />mysql_install_db<br />mysql_secure_installation --- run through the wizard</p>

<p>apt-get install php5-fpm php5-mysql</p>

<p>Configure PHP<br />nano /etc/php5/fpm/php.ini</p>

<p>set<br />cgi.fix_pathinfo=0</p>

<p>edit /etc/nginx/nginx.conf</p>

<p>under http add<br />fastcgi_buffers 8 16k;<br />fastcgi_buffer_size 32k;</p>

<p>Set NGINx config<br />See notes</p>

<p>Automatic updates<br /><a href="http://www.richud.com/wiki/Ubuntu">http:/<wbr></wbr>/<wbr></wbr>www.richud.com/<wbr></wbr>wiki/<wbr></wbr>Ubuntu</a><em>Enable</em>Automatic_Updates<br /><a href="https://help.ubuntu.com/14.04/serverguide/automatic-updates.html"></a><a href="https://help.ubuntu.com/14.04/serverguide/automatic-updates.html">https:/<wbr></wbr>/<wbr></wbr>help.ubuntu.com/<wbr></wbr>14.04/<wbr></wbr>serverguide/<wbr></wbr>automatic-updates.html</a><br />apt-get install unattended-upgrades<br />edit /etc/apt/apt.conf.d/50unattended-upgrades</p>

<p>At the very least enable security updates (should be enabled by default)<br />uncomment the "${distro<em>id}:${distro</em>codename}-updates"; line to enable other updates.</p>

<p>edit /etc/apt/apt.conf.d/10periodic<br />set<br />APT::Periodic::Update-Package-Lists "1";<br />APT::Periodic::Download-Upgradeable-Packages "1";<br />APT::Periodic::AutocleanInterval "7";<br />APT::Periodic::Unattended-Upgrade "1";</p>

<p>Email<br /><a href="https://www.digitalocean.com/community/tutorials/how-to-set-up-a-postfix-e-mail-server-with-dovecot"></a><a href="https://www.digitalocean.com/community/tutorials/how-to-set-up-a-postfix-e-mail-server-with-dovecot">https:/<wbr></wbr>/<wbr></wbr>www.digitalocean.com/<wbr></wbr>community/<wbr></wbr>tutorials/<wbr></wbr>how-to-set-up-a-postfix-e-mail-server-with-dovecot</a><br />sudo openssl req -x509 -nodes -days 365 -newkey rsa:2048 -keyout /etc/ssl/private/mail.key -out /etc/ssl/certs/mailcert.pem<br />sudo openssl req -nodes -days 365 -newkey rsa:2048 -keyout /etc/ssl/private/mail.key -out mailcert.csr</p>

<p>aptitude remove exim4 && aptitude install postfix && postfix stop<br />Install as internet site and follow wizard (although config will be cleared)<br />Edit<br />/etc/postfix/master.cf</p>

<p>set<br />submission inet n - - - - smtpd<br />-o syslog<em>name=postfix/submission<br />-o smtpd</em>tls<em>wrappermode=no<br />-o smtpd</em>tls<em>security</em>level=encrypt<br />-o smtpd<em>sasl</em>auth<em>enable=yes<br />-o smtpd</em>recipient<em>restrictions=permit</em>mynetworks,permit<em>sasl</em>authenticated,reject<br />-o milter<em>macro</em>daemon<em>name=ORIGINATING<br />-o smtpd</em>sasl<em>type=dovecot<br />-o smtpd</em>sasl_path=private/auth</p>

<p>wipe main.cf (copy it to a new folder if nesarry)<br />cp /etc/postfix/main.cf /etc/postfix/main.cf.orig<br />rm /etc/postfix/main.cf</p>

<p>Set<br />myhostname = mail.domain.com<br />myorigin = /etc/mailname<br />mydestination = mail.domain.com, domain.com, localhost, localhost.localdomain<br />relayhost =<br />mynetworks = 127.0.0.0/8 [::ffff:127.0.0.0]/104 [::1]/128<br />mailbox_size_limit = 0<br />recipient<em>delimiter = +<br />inet</em>interfaces = all<br />alias<em>maps = hash:/etc/aliases<br />alias</em>database = hash:/etc/aliases<br />smtpd_tls_cert_file=/etc/ssl/certs/mailcert.pem<br />smtpd_tls_key_file=/etc/ssl/private/mail.key<br />smtpd_use_tls=yes<br />smtpd_tls_session_cache_database = btree:${data<em>directory}/smtpd</em>scache<br />smtp_tls_session_cache_database = btree:${data<em>directory}/smtp</em>scache<br />smtpd_tls_security_level=may<br />smtpd_tls_protocols = !SSLv2, !SSLv3<br />local_recipient_maps = proxy:unix:passwd.byname $alias_maps</p>

<p>edit /etc/aliases and set the file's content as the following<br />mailer-daemon: postmaster<br />postmaster: root<br />nobody: root<br />hostmaster: root<br />usenet: root<br />news: root<br />webmaster: root<br />www: root<br />ftp: root<br />abuse: root<br />root: theo</p>

<p>newaliases</p>

<p>aptitude install dovecot-core dovecot-imapd</p>

<p>clear /etc/dovecot/dovecot.conf<br />rm /etc/dovecot/dovecot.conf</p>

<p>create /etc/dovecot/dovecot.conf<br />disable_plaintext_auth = no<br />mail_privileged_group = mail<br />mail<em>location = mbox:~/mail:INBOX=/var/mail/%u<br />userdb {<br />driver = passwd<br />}<br />passdb {<br />args = %s<br />driver = pam<br />}<br />protocols = " imap"<br />protocol imap {<br />mail</em>plugins = " autocreate"<br />}<br />plugin {<br />autocreate = Trash<br />autocreate2 = Sent<br />autosubscribe = Trash<br />autosubscribe2 = Sent<br />}<br />service auth {<br />unix<em>listener /var/spool/postfix/private/auth {<br />group = postfix<br />mode = 0660<br />user = postfix<br />}<br />}<br />ssl=required<br />ssl</em>cert =<a href="digitalocean.html" class="p-category" rel="tag">#digitalocean</a> <a href="installdropbear.html" class="p-category" rel="tag">#installdropbear</a> <a href="old.html" class="p-category" rel="tag">#old</a> <a href="old.html" class="p-category" rel="tag">#old</a> <a href="ssh.html" class="p-category" rel="tag">#ssh</a> <a href="ufw.html" class="p-category" rel="tag">#ufw</a> <a href="uncategorized.html" class="p-category" rel="tag">#uncategorized</a></p>
</div>                    </div>
                    <div class="footer">
                        
        <div class="permalink">
            <p>
                <a href="../profile/tjones2.html">Theo Jones</a>published this
                <a class="u-url url" href="../2014/new-server-installation-new-blogging-engine-web-and-mail-on.html" rel="permalink"><time class="dt-published"
                          datetime="2014-08-14T11:33:53+0000">14 Aug 2014</time></a>
                                                                            </p>
        </div>
        <div class="interactions">
	        <span class="annotate-icon">
                        <a class="stars" href="../2014/new-server-installation-new-blogging-engine-web-and-mail-on.html#comments"><i class="fa fa-star-o"></i> 0 stars</a></span>
                   <span class="annotate-icon"> <a class="comments" href="../2014/new-server-installation-new-blogging-engine-web-and-mail-on.html#comments"><i class="fa fa-comments"></i> 0 comments</a></span>
            <a class="shares" href="../2014/new-server-installation-new-blogging-engine-web-and-mail-on.html#comments"></a>
            <a class="shares" href="../2014/new-server-installation-new-blogging-engine-web-and-mail-on.html#comments"></a>
        </div>
        <br clear="all"/>
                            </div>
                </div>

            </div>

        
        <div class="pager">
            <ul>
                                <li><a href="digitalocean-offset=10.html" title="Older" rel="prev">Older &raquo;</a></li>            </ul>
        </div>

        <div class="blank-footer">
    <div>
        <p class="footer"><a href="https://withknown.com/?utm_source=footer&amp;utm_medium=installation" class="u-platform"><img src="../gfx/logos/logo_k.png" style="height: 1.5em"></a></p>
    </div>
</div>
    </div>
    <!-- /container -->

        
</div>
<!-- Everything below this should be includes, not content -->

<!-- Le javascript -->
<!-- Placed at the end of the document so the pages load faster -->
<script
    src="../external/jquery-timeago/jquery.timeago.js"></script>
<script
    src="../external/jquery-pjax/jquery.pjax.js"></script>
<script src="../external/underscore/underscore-min.js"
        type="text/javascript"></script>
<!--<script src="https://www.theojones.name/external/mention/bootstrap-typeahead.js"
        type="text/javascript"></script>
<script src="https://www.theojones.name/external/mention/mention.js"
        type="text/javascript"></script> -->


<!-- Flexible media player -->
<script
    src="../external/mediaelement/build/mediaelement-and-player.min.js"></script>
<link rel="stylesheet"
      href="../external/mediaelement/build/mediaelementplayer.css"/>
<!-- Video shim -->
<script src="../external/fitvids/jquery.fitvids.min.js"></script>
<!-- Mention styles -->
<link rel="stylesheet" type="text/css"
      href="../external/mention/recommended-styles.css">


<!-- HTML5 form element support for legacy browsers -->
<script src="../external/h5f/h5f.min.js"></script>

<script>

    function annotateContent() {
        $(".h-entry").fitVids();
        $("time.dt-published").timeago();
    }

    // Shim so that JS functions can get the current site URL
    function wwwroot() {
        return 'https://www.theojones.name/';
    }

    $(document).ready(function () {
        $.timeago.settings.cutoff = 30 * 24 * 60 * 60 * 1000; // 1 month
        annotateContent();
    });

    /**
     * Handle Twitter tweet embedding
     */
    $(document).ready(function () {
        $('div.twitter-embed').each(function (index) {
            var url = $(this).attr('data-url');
            var div = $(this);

            $.ajax({
                url: "https://api.twitter.com/1/statuses/oembed.json?url=" + url,
                dataType: "jsonp",
                success: function (data) {
                    div.html(data['html']);
                }
            });
        });

        $('body').on('click', function (event, el) {
            var clickTarget = event.target;

            if (clickTarget.href && clickTarget.href.indexOf(window.location.origin) === -1) {
                clickTarget.target = "_blank";
            }
        });
    });

    /**
     * Handle Soundcloud oEmbed code
     */
    $(document).ready(function () {
        $('div.soundcloud-embed').each(function (index) {
            var url = $(this).attr('data-url');
            var div = $(this);

            $.getJSON('https://soundcloud.com/oembed?callback=?',
                {
                    format: 'js',
                    url: url,
                    iframe: true
                },
                function (data) {
                    div.html(data['html']);
                }
            );
        });
    });

    /**
     * Better handle links in iOS web applications.
     * This code (from the discussion here: https://gist.github.com/kylebarrow/1042026)
     * will prevent internal links being opened up in safari when known is installed
     * on an ios home screen.
     */
    (function (document, navigator, standalone) {
        if ((standalone in navigator) && navigator[standalone]) {
            var curnode, location = document.location, stop = /^(a|html)$/i;
            document.addEventListener('click', function (e) {
                curnode = e.target;
                while (!(stop).test(curnode.nodeName)) {
                    curnode = curnode.parentNode;
                }
                if ('href' in curnode && ( curnode.href.indexOf('http') || ~curnode.href.indexOf(location.host) ) && (!curnode.classList.contains('contentTypeButton'))) {
                    e.preventDefault();
                    location.href = curnode.href;
                }
            }, false);
        }
    })(document, window.navigator, 'standalone');

</script>

<script>
    $('video').mediaelementplayer({
        features: ['playpause','progress','current','tracks','volume','fullscreen'],
        alwaysShowControls: false,
        pauseOtherPlayers: true,
        enableAutosize: false,
        mediaWidth: -1,
        mediaHeight: -1
    });
    $('audio').mediaelementplayer({
        features: ['playpause','progress','current','tracks','volume','fullscreen'],
        alwaysShowControls: false,
        pauseOtherPlayers: true,
        enableAutosize: false,
        mediaWidth: -1,
        mediaHeight: -1
    });
</script>
<style>.known-media-element {
        width: 100%;
        height: 100%;
    }
</style><a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/4.0/88x31.png" /></a><br />This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International License</a>.
</body>


</html>
