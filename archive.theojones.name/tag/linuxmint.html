<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Theo Jones</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="viewport" content="initial-scale=1.0" media="(device-height: 568px)"/>
    <meta name="description" content="Thoughts and Ideas">
    <meta name="generator" content="Known https://withknown.com">
    <meta http-equiv="Content-Language" content="en">

    <!--Le fav and touch icons-->
<link rel="apple-touch-icon" sizes="57x57" href="../gfx/logos/apple-icon-57x57.png" />
<link rel="apple-touch-icon" sizes="72x72" href="../gfx/logos/apple-icon-72x72.png" />
<link rel="apple-touch-icon" sizes="114x114" href="../gfx/logos/apple-icon-114x114.png" />
<link rel="apple-touch-icon" sizes="144x144" href="../gfx/logos/apple-icon-144x144.png" />    <link rel="shortcut icon" type="image/png" href="../gfx/logos/logo_k.png">
<!-- Make this an "app" when saved to an ios device's home screen -->
<link rel="apple-touch-icon-precomposed" href="../gfx/logos/logo_k.png">
<!-- Make this an "app" when saved to an ios device's home screen -->
<link rel="apple-touch-icon" href="../gfx/logos/logo_k.png">
<!-- <meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black"> -->
    <meta property="og:type" content="website" />
<meta property="og:title" content="Theo Jones" />
<meta property="og:site_name" content="Theo Jones" />
<meta property="og:image" content="https://www.theojones.name/gfx/logos/logo_k.png" />


    <!-- Dublin Core -->
    <link rel="schema.DC" href="http://purl.org/dc/elements/1.1/">
    <meta name="DC.title" content="Theo Jones">
    <meta name="DC.description" content="Thoughts and Ideas">    <!-- AMP versions -->
    <link rel="amphtml" href="linuxmint-_t=amp.html">

    <!-- We need jQuery at the top of the page -->
    <script src="../external/jquery/jquery.min.js"></script>

    <!-- Le styles -->
    <link
        href="../external/bootstrap/assets/css/bootstrap.min.css"
        rel="stylesheet"/>
    <link
        href="../external/bootstrap/assets/css/bootstrap-theme.min.css"/>
    <script
        src="../external/bootstrap/assets/js/bootstrap.min.js"></script>

    <!-- Accessibility -->
    <link rel="stylesheet"
          href="../external/paypal-bootstrap-accessibility-plugin/plugins/css/bootstrap-accessibility_1.0.3.css">
    <script
        src="../external/paypal-bootstrap-accessibility-plugin/plugins/js/bootstrap-accessibility_1.0.3.min.js"></script>

    <!-- Fonts -->
    <link rel="stylesheet"
          href="../external/font-awesome/css/font-awesome.css">
    <!--<link rel="stylesheet"
          href="https://www.theojones.name/external/font-awesome/css/font-awesome.min.css">-->
    <style>body {
            padding-top: 100px; /* 60px to make the container go all the way to the bottom of the topbar */
        }
    </style>

    <link href="../css/default-20150907.css" rel="stylesheet">
<link href="../css/defaultb3-20150123.css" rel="stylesheet">
    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
    <script
        src="https://www.theojones.name/external/bootstrap/assets/js/html5shiv.js"></script>
    <![endif]-->

    <!-- Default Known JavaScript -->
    <script src="../js/default-20150406.js"></script>

    <!-- To silo is human, to syndicate divine -->
    <link rel="alternate" type="application/rss+xml" title="Theo Jones"
          href="linuxmint-_t=rss.rss"/>
    <link rel="feed" type="application/rss+xml" title="Theo Jones"
          href="linuxmint-_t=rss.rss"/>
    <link rel="alternate feed" type="application/rss+xml"
          title="Theo Jones: all content"
          href="../content/all-_t=rss.rss"/>
    <link rel="feed" type="text/html" title="Theo Jones"
          href="../content/all.html"/>

    <!-- Webmention endpoint -->
    <link href="../webmention/index.html" rel="http://webmention.org/"/>
    <link href="../webmention/index.html" rel="webmention"/>

                <!-- Pubsubhubbub -->
        <link href="http://withknown.superfeedr.com/" rel="hub"/>
    
    
    <script src="../external/fragmention/fragmention.js"></script>

    <!-- Syndication -->
    <link
        href="../external/bootstrap-toggle/css/bootstrap-toggle.min.css"
        rel="stylesheet"/>
    <script
        src="../external/bootstrap-toggle/js/bootstrap-toggle.js"></script>

    <style>.withknown-plugin {
        padding-top: 0.25em;
        padding-bottom: 0.25em;
        background-color: #fff;
        margin-bottom: 0.5em;
    }

    .withknown-plugin p,
    .withknown-plugin h4,
    .withknown-plugin form
    {
        margin: 0; padding: 0;
    }

    .withknown-plugin .plugin-content h4
    {
        padding-top: 0.25em;
    }

    .withknown-plugin .plugin-content p
    {
        padding-top: 0.3em;
    }

    .withknown-plugin .plugin-content {
        color: #777;
    }

    .withknown-plugin input[type=submit]
    {
        width: 100px;
    }
    
    .withknown-plugin .btn-enabled {
    background-color: #70997a;
    background-image: none;
    background-repeat: repeat-x;
    border-color: #70997a;
    color: #ffffff;
    text-shadow: none;
	}
	
	.withknown-plugin .btn-enabled:hover, 
	.withknown-plugin .btn-enabled:focus, 
	.withknown-plugin .btn-enabled:active, 
	.withknown-plugin .btn-enabled.active, 
	.withknown-plugin .btn-enabled.disabled, 
	.withknown-plugin .btn-enabled[disabled] {
    background-color: #678c70;
    border-color: #678c70;
    color: #ffffff;
	}
	
	.withknown-plugin .btn-default {
	color: #666666;
	}
	
	.withknown-plugin .span2 {
		margin-left: 0px;
	}
	
    .withknown-plugin h4 {
		color: #222;
	}

    .withknown-pro-block {
        text-align: center;
        border: 0;
        border-top: 2px #ccc solid;
        border-bottom: 2px #ccc solid;
        margin-bottom: 2em;
        margin-top: 20px;
    }
</style><link rel="stylesheet" href="../IdnoPlugins/Checkin/external/leaflet/leaflet.css"/>
<!--[if lte IE 8]>
<link rel="stylesheet" href="https://www.theojones.name/IdnoPlugins/Checkin/external/leaflet/leaflet.ie.css"/>
<![endif]-->
<script type="text/javascript" src="../IdnoPlugins/Checkin/external/leaflet/leaflet.js"></script>
<script type="text/javascript" src="../IdnoPlugins/Checkin/external/stamen-maps/tile.stamen.js"></script>
<script src='https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script><link rel="openid.delegate" href="../index.html" />
<link rel="openid.server" href="https://indieauth.com/openid" />
<link rel="authorization_endpoint" href="../session/login-fwd=https-%7C%7Cwww.theojones.name%7Cindieauth%7Cauth.html">
<link rel="token_endpoint" href="../indieauth/token.html">
<link rel="micropub" href="../session/login-fwd=%7Cmicropub%7Cendpoint.html"><link href="../Themes/Solo/css/default.css" rel="stylesheet">    
</head>

<body class="idno_pages_homepage page-tag page-tag-linuxmint logged-out">
<div id="pjax-container" class="page-container">
    <a href="linuxmint.html#maincontent" style="display:none">Skip to main content</a>
<nav class="navbar navbar-default navbar-fixed-top">
    <div class="container">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" tabindex="1" href="../index.html">Theo Jones</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="navbar-collapse">

            <form class="navbar-form navbar-left" action="https://www.theojones.name/content/all" method="get" role="search">
    <div class="form-group">
        <input type="search" class="search-query form-control" name="q" placeholder="Search" tabindex="2" value="#linuxmint">
    </div>
</form><ul class="nav navbar-nav">
        
            <li class="dropdown" tabindex="3">
                <a href="linuxmint.html#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
                    All content                    <span class="caret"></span>
                </a>
                <ul class="dropdown-menu" role="menu">
                    <li><a href="../index-q=-linuxmint.html"><span class="dropdown-menu-icon">&nbsp;</span>
                            Default content</a></li>
                    <li><a href="../content/all/index-q=-linuxmint.html"><span class="dropdown-menu-icon">&nbsp;</span>
                            All content</a></li>
                                                    <li><a
                                    href="../content/statusupdates/index-q=-linuxmint.html"><span
                                        class="dropdown-menu-icon"><i class="fa fa-comment-o"></i></span> Status updates                                </a></li>                                <li><a
                                    href="../content/posts/index-q=-linuxmint.html"><span
                                        class="dropdown-menu-icon"><i class="fa fa-align-left"></i>
</span> Posts                                </a></li>                                <li><a
                                    href="../content/photos/index-q=-linuxmint.html"><span
                                        class="dropdown-menu-icon"><i class="fa fa-picture-o"></i>
</span> Photos                                </a></li>                                <li><a
                                    href="../content/locations/index-q=-linuxmint.html"><span
                                        class="dropdown-menu-icon"><i class="fa fa-map-marker"></i>
</span> Locations                                </a></li>                                <li><a
                                    href="../content/bookmarkedpages/index-q=-linuxmint.html"><span
                                        class="dropdown-menu-icon"><i class="fa fa-bookmark"></i>
</span> Bookmarked pages                                </a></li>                                <li><a
                                    href="../content/audio/index-q=-linuxmint.html"><span
                                        class="dropdown-menu-icon"><i class="fa fa-microphone"></i>
</span> Audio                                </a></li>                                <li><a
                                    href="../content/events/index-q=-linuxmint.html"><span
                                        class="dropdown-menu-icon"><i class="fa fa-calendar"></i>
</span> Events                                </a></li>                                <li><a
                                    href="../content/rsvp/index-q=-linuxmint.html"><span
                                        class="dropdown-menu-icon"><i class="fa fa-calendar-o"></i>
</span> RSVP                                </a></li>

                </ul>
            </li>

    </ul>
            <ul class="nav navbar-nav navbar-right">
                

    <li><a href="../session/login.html">Sign in</a></li>            </ul>

        </div><!-- /.navbar-collapse -->
    </div><!-- /.container-fluid -->
</nav>
    <div class="container page-body">
        <a name="pagecontent"></a>
                                    <div class="row idno-entry idno-entry-entry">

                <div
                    class="col-md-8 col-md-offset-2 h-entry idno-posts idno-object idno-content">
                    <div style="display: none"> <!-- This is useful for webmentions -->
                        <p class="p-author author h-card vcard">
                            <a href="../profile/tjones2.html" class="icon-container"><img
                                    class="u-logo logo u-photo photo" src="https://www.theojones.name/file/de911cc1bf544396092c15df5d71aa2e"/></a>
                            <a class="p-name fn u-url url" href="../profile/tjones2.html">Theo Jones</a>
                            <a class="u-url" href="../profile/tjones2.html">
                                <!-- This is here to force the hand of your MF2 parser --></a>
                        </p>
                    </div>
                                        <div class="e-content entry-content">
                        <div>
                <h2 class="p-name"><a
                    href="../2014/a-real-world-and-working-distributed-social-network.html">A Real World and Working Distributed Social Network</a>
            </h2>
                    <p class="reading">
                <span class="vague">5 min read </span>
            </p>
            
<p>About a month ago I discussed <a title="What Would the Ideal Distributed Social Networking Application Look Like?" href="http://web.archive.org/web/20140403093812/%3Ca%20href=" https:>https:/<wbr></wbr>/<wbr></wbr>theojones.name/<wbr></wbr>index.php/<wbr></wbr>2013/<wbr></wbr>12/<wbr></wbr>30/<wbr></wbr>ideal-distributed-social-networking-application-look-like/<wbr></wbr></a>"&gt;the need for a distributed social networking application. At the time I wrote that article there were no social networking systems around that were reasonably easy to install, secure, and with a usable feature set. I just found out about<a href="http://twister.net.co/"> a new application, Twister, that </a>comes close to meeting these goals. Its open source, and it seems to be easy to write software that interfaces with it. It is fully decentralized and its server can run on a regular computer without the need for an always on server.  Its main flaw seems to be that there is no way to to run a web based interface for it from a remote computer. This means that it is currently impossible to have a website that you can just go to and register an account at without installing anything on your computer. However, I have done a bit on coding over the weekend and I think this issue is pretty tractable. I have written an application in Python that can allow users to view Twister profiles over the web and I have , eventually I will post this code, and time permitting I may turn this into a full hosted web based interface for Twister that accounts can be registered at. In the rest of this post I will discuss some of the flaws and possibilities with this network. I will then discuss how to install it on Linux Mint (still not as easy a process as it could be).<br /><!--more--><br />The other clear limitation of Twister is that it has adopted the 140 character  limit from Twi<strong><em>tt</em></strong>er. This limits the depth and nature of the posts that can be made with this system. There are reasons to limit the size of messages, but 140 is too low. A social networking system should allow enough text to put a link with a solid paragraph of text. I reckon this would be about a limit of 1000 characters.</p>

<p>There is also no support for anything like Facebook's groups.This issue seems easy to code around because it would possible to just create a program that manages a page that posts out the content of any private messages sent to it. This program would also need to have the appropriate measures needed to drop the banhammer on the occasional idiot. This program would work in a similar way to GNU Mailman or other email mailing list managers.</p>

<p>The private messaging features in twister are weak. It does not allow anyone who you are not already following to message you, but in any messaging system there are reasons to want the ability to message people that you have not already been in contact with. It is harder to code around this issue, but the use of relays that people can follow may be one way to code around this limitation.It may even be true that private and public messaging is so totally different that it would be better to write separate application to handle each task.</p>

<p>Profiles have very few options.</p>

<p>The loss of a private key means the loss of your profile. There therefore needs to be a way to back up this key. A program that uses Shamir's Secret Sharing or a similar algorithm to split a backup of the key into pieces and then distributes these pieces among the user's friends  may be one easy way to resolve these issues.</p>

<p>I have found that the best way to interface with the Twister RPC is not through the Twister author's suggested python-bitcoin (which is really just a JSON RPC client) ,but instead is through the pyjsonrpc library. Here is some Python code to grab the contents of user profiles and format it into HTML that I wrote with this library: (wordpress doesn't seem to handle the formatting of python code very well, eventually I'll create a GitHub repository for this).</p>

<p>http_client = pyjsonrpc.HttpClient( <br />url = "http://localhost:28332", <br />username = "user", <br />password = "pwd" <br />)</p>

<p>def GetRawProfileJSON(UserNameToLookUp): <br />return http_client.call("dhtget", UserNameToLookUp, "profile", "s") <br />def GetParsedProfileJSON(UserNameToLookUp): <br />return GetRawProfileJSON(UserNameToLookUp)[0]['p']['v']</p>

<p>def GetFullNameHtml(ParsedProfileJSON): <br />global PageTitle <br />FullName = ParsedProfileJSON['fullname'] <br />PageTitle = FullName + "  Profile" <br />return "</p>
<h1>Name</h1><h2>" + FullName + "</h2>
<p><br />" <br />def GetUrlHtml(ParsedProfileJSON): <br />url = ParsedProfileJSON['url'] <br />return "</p>
<h1>Website</h1><h2>" + url + "</h2>
<p><br />" <br />def GetLocationHtml(ParsedProfileJSON): <br />loc = ParsedProfileJSON['location'] <br />return "</p>
<h1>Location</h1><h2>" + loc + "</h2>
<p><br />" <br />def GetBioHtml(ParsedProfileJSON): <br />bio = ParsedProfileJSON['bio'] <br />return "</p>
<h1>About Me</h1><h2>" + bio + "</h2>
<p><br />"</p>

<p>def GetProfileHTML(UserNameToLookUp): <br />parsed = GetParsedProfileJSON(UserNameToLookUp) <br />return GetFullNameHtml(parsed) + GetUrlHtml(parsed) + GetLocationHtml(parsed) + GetBioHtml(parsed)</p>

<p> </p>

<p>Installing this program is easier than most other distributed social networking apps but still a pain. Here is how I did it on Linux Mint.</p>

<p>sudo apt-get install git</p>

<p>sudo apt-get install autoconf</p>

<p>sudo apt-get install automake</p>

<p>sudo apt-get install libtool</p>

<p>sudo apt-get install g++</p>

<p>sudo apt-get install libboost-all-dev</p>

<p>sudo apt-get install libssl-dev</p>

<p>sudo apt-get install libdb5.3++ libdb5.3++-dev</p>

<p>sudo apt-get install miniupnpc</p>

<p>sudo apt-get install libminiupnpc-dev</p>

<p>sudo apt-get install libglibmm-2.4-dev</p>

<p>git clone <a href="https://github.com/miguelfreitas/twister-core.git"></a><a href="https://github.com/miguelfreitas/twister-core.git">https:/<wbr></wbr>/<wbr></wbr>github.com/<wbr></wbr>miguelfreitas/<wbr></wbr>twister-core.git</a></p>

<p>cd twister-core</p>

<p>./bootstrap.sh</p>

<p>./configure --enable-logging --enable-debug</p>

<p>make</p>

<p>make will take a while</p>

<p>mkdir ~/.twister</p>

<p>cd ~/.twister</p>

<p>git clone <a href="https://github.com/miguelfreitas/twister-html.git"></a><a href="https://github.com/miguelfreitas/twister-html.git">https:/<wbr></wbr>/<wbr></wbr>github.com/<wbr></wbr>miguelfreitas/<wbr></wbr>twister-html.git</a> html</p>

<p> </p>

<p> </p>
<p><a href="html.html" class="p-category" rel="tag">#html</a> <a href="linuxmint.html" class="p-category" rel="tag">#linuxmint</a> <a href="old.html" class="p-category" rel="tag">#old</a> <a href="old.html" class="p-category" rel="tag">#old</a> <a href="shamirsecretsharing.html" class="p-category" rel="tag">#shamirsecretsharing</a> <a href="uncategorized.html" class="p-category" rel="tag">#uncategorized</a></p></div>                    </div>
                    <div class="footer">
                        
        <div class="permalink">
            <p>
                <a href="../profile/tjones2.html">Theo Jones</a>published this
                <a class="u-url url" href="../2014/a-real-world-and-working-distributed-social-network.html" rel="permalink"><time class="dt-published"
                          datetime="2014-02-16T22:55:01+0000">16 Feb 2014</time></a>
                                                                            </p>
        </div>
        <div class="interactions">
	        <span class="annotate-icon">
                        <a class="stars" href="../2014/a-real-world-and-working-distributed-social-network.html#comments"><i class="fa fa-star-o"></i> 0 stars</a></span>
                   <span class="annotate-icon"> <a class="comments" href="../2014/a-real-world-and-working-distributed-social-network.html#comments"><i class="fa fa-comments"></i> 0 comments</a></span>
            <a class="shares" href="../2014/a-real-world-and-working-distributed-social-network.html#comments"></a>
            <a class="shares" href="../2014/a-real-world-and-working-distributed-social-network.html#comments"></a>
        </div>
        <br clear="all"/>
                            </div>
                </div>

            </div>

                    <div class="row idno-entry idno-entry-entry">

                <div
                    class="col-md-8 col-md-offset-2 h-entry idno-posts idno-object idno-content">
                    <div style="display: none"> <!-- This is useful for webmentions -->
                        <p class="p-author author h-card vcard">
                            <a href="../profile/tjones2.html" class="icon-container"><img
                                    class="u-logo logo u-photo photo" src="https://www.theojones.name/file/de911cc1bf544396092c15df5d71aa2e"/></a>
                            <a class="p-name fn u-url url" href="../profile/tjones2.html">Theo Jones</a>
                            <a class="u-url" href="../profile/tjones2.html">
                                <!-- This is here to force the hand of your MF2 parser --></a>
                        </p>
                    </div>
                                        <div class="e-content entry-content">
                        <div>
                <h2 class="p-name"><a
                    href="../2014/compiling-newlisp-on-linux-mint.html">Compiling Newlisp on Linux Mint</a>
            </h2>
                    <p class="reading">
                <span class="vague">1 min read </span>
            </p>
            <p>I installed Linux Mint on my laptop, but the Newlisp interpreter is not as easy to install on that distro as Arch Linux/ Manjaro. The Ubuntu package created by the Newlisp project does not work on x64 Mint, so it has to be manually compiled. There are two dependencies for Newlisp, ffi and readline. They can be installed as follows</p><p>sudo apt-get install libffi-devel <br />
sudo apt-get install libreadline-dev</p><p>Libffi is needed for the Newlisp foreign function interface commands, and readline is needed for the Newlisp REPL.</p><p>Then compile and install Newlisp</p><p>make <br />
sudo make install</p><p> </p><p><a href="archlinuxmanjaro.html" class="p-category" rel="tag">#archlinuxmanjaro</a> <a href="linuxmint.html" class="p-category" rel="tag">#linuxmint</a> <a href="old.html" class="p-category" rel="tag">#old</a> <a href="old.html" class="p-category" rel="tag">#old</a> <a href="uncategorized.html" class="p-category" rel="tag">#uncategorized</a></p></div>                    </div>
                    <div class="footer">
                        
        <div class="permalink">
            <p>
                <a href="../profile/tjones2.html">Theo Jones</a>published this
                <a class="u-url url" href="../2014/compiling-newlisp-on-linux-mint.html" rel="permalink"><time class="dt-published"
                          datetime="2014-02-10T23:41:31+0000">10 Feb 2014</time></a>
                                                                            </p>
        </div>
        <div class="interactions">
	        <span class="annotate-icon">
                        <a class="stars" href="../2014/compiling-newlisp-on-linux-mint.html#comments"><i class="fa fa-star-o"></i> 0 stars</a></span>
                   <span class="annotate-icon"> <a class="comments" href="../2014/compiling-newlisp-on-linux-mint.html#comments"><i class="fa fa-comments"></i> 0 comments</a></span>
            <a class="shares" href="../2014/compiling-newlisp-on-linux-mint.html#comments"></a>
            <a class="shares" href="../2014/compiling-newlisp-on-linux-mint.html#comments"></a>
        </div>
        <br clear="all"/>
                            </div>
                </div>

            </div>

        
        <div class="pager">
            <ul>
                                <li><a href="linuxmint-offset=10.html" title="Older" rel="prev">Older &raquo;</a></li>            </ul>
        </div>

        <div class="blank-footer">
    <div>
        <p class="footer"><a href="https://withknown.com/?utm_source=footer&amp;utm_medium=installation" class="u-platform"><img src="../gfx/logos/logo_k.png" style="height: 1.5em"></a></p>
    </div>
</div>
    </div>
    <!-- /container -->

        
</div>
<!-- Everything below this should be includes, not content -->

<!-- Le javascript -->
<!-- Placed at the end of the document so the pages load faster -->
<script
    src="../external/jquery-timeago/jquery.timeago.js"></script>
<script
    src="../external/jquery-pjax/jquery.pjax.js"></script>
<script src="../external/underscore/underscore-min.js"
        type="text/javascript"></script>
<!--<script src="https://www.theojones.name/external/mention/bootstrap-typeahead.js"
        type="text/javascript"></script>
<script src="https://www.theojones.name/external/mention/mention.js"
        type="text/javascript"></script> -->


<!-- Flexible media player -->
<script
    src="../external/mediaelement/build/mediaelement-and-player.min.js"></script>
<link rel="stylesheet"
      href="../external/mediaelement/build/mediaelementplayer.css"/>
<!-- Video shim -->
<script src="../external/fitvids/jquery.fitvids.min.js"></script>
<!-- Mention styles -->
<link rel="stylesheet" type="text/css"
      href="../external/mention/recommended-styles.css">


<!-- HTML5 form element support for legacy browsers -->
<script src="../external/h5f/h5f.min.js"></script>

<script>

    function annotateContent() {
        $(".h-entry").fitVids();
        $("time.dt-published").timeago();
    }

    // Shim so that JS functions can get the current site URL
    function wwwroot() {
        return 'https://www.theojones.name/';
    }

    $(document).ready(function () {
        $.timeago.settings.cutoff = 30 * 24 * 60 * 60 * 1000; // 1 month
        annotateContent();
    });

    /**
     * Handle Twitter tweet embedding
     */
    $(document).ready(function () {
        $('div.twitter-embed').each(function (index) {
            var url = $(this).attr('data-url');
            var div = $(this);

            $.ajax({
                url: "https://api.twitter.com/1/statuses/oembed.json?url=" + url,
                dataType: "jsonp",
                success: function (data) {
                    div.html(data['html']);
                }
            });
        });

        $('body').on('click', function (event, el) {
            var clickTarget = event.target;

            if (clickTarget.href && clickTarget.href.indexOf(window.location.origin) === -1) {
                clickTarget.target = "_blank";
            }
        });
    });

    /**
     * Handle Soundcloud oEmbed code
     */
    $(document).ready(function () {
        $('div.soundcloud-embed').each(function (index) {
            var url = $(this).attr('data-url');
            var div = $(this);

            $.getJSON('https://soundcloud.com/oembed?callback=?',
                {
                    format: 'js',
                    url: url,
                    iframe: true
                },
                function (data) {
                    div.html(data['html']);
                }
            );
        });
    });

    /**
     * Better handle links in iOS web applications.
     * This code (from the discussion here: https://gist.github.com/kylebarrow/1042026)
     * will prevent internal links being opened up in safari when known is installed
     * on an ios home screen.
     */
    (function (document, navigator, standalone) {
        if ((standalone in navigator) && navigator[standalone]) {
            var curnode, location = document.location, stop = /^(a|html)$/i;
            document.addEventListener('click', function (e) {
                curnode = e.target;
                while (!(stop).test(curnode.nodeName)) {
                    curnode = curnode.parentNode;
                }
                if ('href' in curnode && ( curnode.href.indexOf('http') || ~curnode.href.indexOf(location.host) ) && (!curnode.classList.contains('contentTypeButton'))) {
                    e.preventDefault();
                    location.href = curnode.href;
                }
            }, false);
        }
    })(document, window.navigator, 'standalone');

</script>

<script>
    $('video').mediaelementplayer({
        features: ['playpause','progress','current','tracks','volume','fullscreen'],
        alwaysShowControls: false,
        pauseOtherPlayers: true,
        enableAutosize: false,
        mediaWidth: -1,
        mediaHeight: -1
    });
    $('audio').mediaelementplayer({
        features: ['playpause','progress','current','tracks','volume','fullscreen'],
        alwaysShowControls: false,
        pauseOtherPlayers: true,
        enableAutosize: false,
        mediaWidth: -1,
        mediaHeight: -1
    });
</script>
<style>.known-media-element {
        width: 100%;
        height: 100%;
    }
</style><a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/4.0/88x31.png" /></a><br />This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International License</a>.
</body>


</html>
